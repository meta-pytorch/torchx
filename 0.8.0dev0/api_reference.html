


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Quick Reference &mdash; PyTorch/TorchX main documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!-- <link rel="stylesheet" href="_static/pygments.css" type="text/css" /> -->
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0-beta/dist/katex.min.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/torchx.css" type="text/css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css" type="text/css" />
  <link rel="stylesheet" href="_static/katex-math.css" type="text/css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0-beta/dist/katex.min.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/torchx.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="torchx.specs" href="specs.html" />
    <link rel="prev" title="TorchX" href="index.html" />
  <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','UA-117752657-2');</script>
    <!-- End Google Tag Manager -->
  

  
  <script src="_static/js/modernizr.min.js"></script>

  <!-- Preload the theme fonts -->

<link rel="preload" href="_static/fonts/FreightSans/freight-sans-book.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="_static/fonts/FreightSans/freight-sans-medium.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="_static/fonts/IBMPlexMono/IBMPlexMono-Medium.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="_static/fonts/FreightSans/freight-sans-bold.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="_static/fonts/FreightSans/freight-sans-medium-italic.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="_static/fonts/IBMPlexMono/IBMPlexMono-SemiBold.woff2" as="font" type="font/woff2" crossorigin="anonymous">

<!-- Preload the katex fonts -->

<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Math-Italic.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Main-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Main-Bold.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size1-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size4-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size2-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size3-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Caligraphic-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css" integrity="sha384-vSIIfh2YWi9wW0r9iZe7RJPrKwp6bG+s9QZMoITbCckVJqGCCRhc+ccxNcdpHuYu" crossorigin="anonymous">
</head>

<div class="container-fluid header-holder tutorials-header" id="header-holder">
  <div class="container">
    <div class="header-container">
      <a class="header-logo" href="https://pytorch.org/" aria-label="PyTorch"></a>

      <div class="main-menu">
        <ul>

          <li class="main-menu-item">
          <div id="resourcesDropdownButton" data-toggle="resources-dropdown" class="resources-dropdown">
              <a class="with-down-arrow">
                Learn
              </a>
              <div class="resources-dropdown-menu">
                <a class="nav-dropdown-item" href="https://pytorch.org/get-started">
                  <span class=dropdown-title>Get Started</span>
                  <p>Run PyTorch locally or get started quickly with one of the supported cloud platforms</p>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/tutorials">
                  <span class="dropdown-title">Tutorials</span>
                  <p>Whats new in PyTorch tutorials</p>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/tutorials/beginner/basics/intro.html">
                  <span class="dropdown-title">Learn the Basics</span>
                  <p>Familiarize yourself with PyTorch concepts and modules</p>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/tutorials/recipes/recipes_index.html">
                  <span class="dropdown-title">PyTorch Recipes</span>
                  <p>Bite-size, ready-to-deploy PyTorch code examples</p>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/tutorials/beginner/introyt.html">
                  <span class="dropdown-title">Intro to PyTorch - YouTube Series</span>
                  <p>Master PyTorch basics with our engaging YouTube tutorial series</p>
                </a>
              </div>
            </div>
          </li>

          <li>
          <div id="resourcesDropdownButton" data-toggle="resources-dropdown" class="resources-dropdown">
              <a class="with-down-arrow">
                Ecosystem
              </a>
              <div class="resources-dropdown-menu">
                <a class="nav-dropdown-item" href="https://pytorch.org/ecosystem">
                  <span class="dropdown-title">Tools</span>
                  <p>Learn about the tools and frameworks in the PyTorch Ecosystem</p>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/#community-module">
                  <span class=dropdown-title>Community</span>
                  <p>Join the PyTorch developer community to contribute, learn, and get your questions answered</p>
                </a>
                <a class="nav-dropdown-item" href="https://discuss.pytorch.org/" target="_blank">
                  <span class=dropdown-title>Forums</span>
                  <p>A place to discuss PyTorch code, issues, install, research</p>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/resources">
                  <span class=dropdown-title>Developer Resources</span>
                  <p>Find resources and get questions answered</p>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/ecosystem/contributor-awards-2024">
                  <span class="dropdown-title">Contributor Awards - 2024</span>
                  <p>Award winners announced at this year's PyTorch Conference</p>
                </a>
              </div>
            </div>
          </li>

          <li>
          <div id="resourcesDropdownButton" data-toggle="resources-dropdown" class="resources-dropdown">
              <a class="with-down-arrow">
                Edge
              </a>
              <div class="resources-dropdown-menu">
                <a class="nav-dropdown-item" href="https://pytorch.org/edge">
                  <span class="dropdown-title">About PyTorch Edge</span>
                  <p>Build innovative and privacy-aware AI experiences for edge devices</p>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/executorch-overview">
                  <span class="dropdown-title">ExecuTorch</span>
                  <p>End-to-end solution for enabling on-device inference capabilities across mobile and edge devices</p>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/executorch/stable/index.html">
                  <span class="dropdown-title">ExecuTorch Docs</span>
                </a>
              </div>
            </div>  
          </li>

          <li class="main-menu-item">
            <div id="resourcesDropdownButton" data-toggle="resources-dropdown" class="resources-dropdown">
              <a class="with-down-arrow">
                Docs
              </a>
              <div class="resources-dropdown-menu">
                <a class="nav-dropdown-item" href="https://pytorch.org/docs/stable/index.html">
                  <span class="dropdown-title">PyTorch</span>
                  <p>Explore the documentation for comprehensive guidance on how to use PyTorch</p>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/pytorch-domains">
                  <span class="dropdown-title">PyTorch Domains</span>
                  <p>Read the PyTorch Domains documentation to learn more about domain-specific libraries</p>
                </a>
              </div>
            </div>
          </li>

          <li>
            <div id="resourcesDropdownButton" data-toggle="resources-dropdown" class="resources-dropdown">
              <a class="with-down-arrow">
                Blogs & News 
              </a>
              <div class="resources-dropdown-menu">
                <a class="nav-dropdown-item" href="https://pytorch.org/blog/">
                  <span class="dropdown-title">PyTorch Blog</span>
                  <p>Catch up on the latest technical news and happenings</p>
                </a>
                 <a class="nav-dropdown-item" href="https://pytorch.org/community-blog">
                  <span class="dropdown-title">Community Blog</span>
                  <p>Stories from the PyTorch ecosystem</p>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/videos">
                  <span class="dropdown-title">Videos</span>
                  <p>Learn about the latest PyTorch tutorials, new, and more </p>
                <a class="nav-dropdown-item" href="https://pytorch.org/community-stories">
                  <span class="dropdown-title">Community Stories</span>
                  <p>Learn how our community solves real, everyday machine learning problems with PyTorch</p>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/events">
                  <span class="dropdown-title">Events</span>
                  <p>Find events, webinars, and podcasts</p>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/newsletter">
                  <span class="dropdown-title">Newsletter</span>
                  <p>Stay up-to-date with the latest updates</p>
                </a>
            </div>
          </li>

          <li>
            <div id="resourcesDropdownButton" data-toggle="resources-dropdown" class="resources-dropdown">
              <a class="with-down-arrow">
                About
              </a>
              <div class="resources-dropdown-menu">
                <a class="nav-dropdown-item" href="https://pytorch.org/foundation">
                  <span class="dropdown-title">PyTorch Foundation</span>
                  <p>Learn more about the PyTorch Foundation</p>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/governing-board">
                  <span class="dropdown-title">Governing Board</span>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/credits">
                  <span class="dropdown-title">Cloud Credit Program</span>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/tac">
                  <span class="dropdown-title">Technical Advisory Council</span>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/staff">
                  <span class="dropdown-title">Staff</span>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/contact-us">
                  <span class="dropdown-title">Contact Us</span>
                </a>
              </div>
            </div>
          </li>

          <li class="main-menu-item">
            <div class="no-dropdown">
              <a href="https://pytorch.org/join" data-cta="join">
                Become a Member
              </a>
            </div>
          </li>
          <li>
           <div class="main-menu-item">
             <a href="https://github.com/pytorch/pytorch" class="github-icon">
             </a>
           </div>
          </li>
          <!--- TODO: This block adds the search icon to the nav bar. We will enable it later. 
          <li>
            <div class="main-menu-item">
             <a href="https://github.com/pytorch/pytorch" class="search-icon">
             </a>
            </div>
          </li>
          --->
        </ul>
      </div>

      <a class="main-menu-open-button" href="#" data-behavior="open-mobile-menu"></a>
    </div>
  </div>
</div>

<body class="pytorch-body">

  
  
    <div id="redirect-banner" style="display: none">
      <p>
        This is the public documentation. There's an internal wiki with extra
        information for Meta employees at
        <a href="https://fburl.com/torchx">https://fburl.com/torchx</a>
      </p>
    </div>
  

    

    <div class="table-of-contents-link-wrapper">
      <span>Table of Contents</span>
      <a href="#" class="toggle-table-of-contents" data-behavior="toggle-table-of-contents"></a>
    </div>

    <nav data-toggle="wy-nav-shift" class="pytorch-left-menu" id="pytorch-left-menu">
      <div class="pytorch-side-scroll">
        <div class="pytorch-menu pytorch-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          <div class="pytorch-left-menu-search">
            
    <div class="version">
      <a href='/torchx/versions.html'>v0.8.0dev0 &#x25BC</a>
    </div>
    


  


<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search Docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          </div>

          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Quick Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="specs.html">torchx.specs</a></li>
<li class="toctree-l1"><a class="reference internal" href="runner.html">torchx.runner</a></li>
<li class="toctree-l1"><a class="reference internal" href="schedulers.html">torchx.schedulers</a></li>
<li class="toctree-l1"><a class="reference internal" href="workspace.html">torchx.workspace</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="basics.html">Basic Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_components.html">Custom Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced.html">Advanced Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">CLI</a></li>
<li class="toctree-l1"><a class="reference internal" href="runner.config.html">.torchxconfig</a></li>
<li class="toctree-l1"><a class="reference internal" href="tracker.html">torchx.tracker</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Schedulers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="schedulers/local.html">Local</a></li>
<li class="toctree-l1"><a class="reference internal" href="schedulers/docker.html">Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="schedulers/kubernetes.html">Kubernetes</a></li>
<li class="toctree-l1"><a class="reference internal" href="schedulers/kubernetes_mcad.html">Kubernetes-MCAD</a></li>
<li class="toctree-l1"><a class="reference internal" href="schedulers/slurm.html">Slurm</a></li>
<li class="toctree-l1"><a class="reference internal" href="schedulers/aws_batch.html">AWS Batch</a></li>
<li class="toctree-l1"><a class="reference internal" href="schedulers/aws_sagemaker.html">AWS SageMaker</a></li>
<li class="toctree-l1"><a class="reference internal" href="schedulers/lsf.html">IBM Spectrum LSF</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Workspaces</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="workspaces/docker.html">Docker</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Application (Runtime)</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="runtime/overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="runtime/tracking.html">Tracking</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Best Practices</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="app_best_practices.html">App Best Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="component_best_practices.html">Component Best Practices</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <div class="pytorch-container">
      <div class="pytorch-page-level-bar" id="pytorch-page-level-bar">
        <div class="pytorch-breadcrumbs-wrapper">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="pytorch-breadcrumbs">
    
      <li>
        <a href="index.html">
          
            Docs
          
        </a> &gt;
      </li>

        
      <li>Quick Reference</li>
    
    
      <li class="pytorch-breadcrumbs-aside">
        
            
            <a href="_sources/api_reference.rst.txt" rel="nofollow"><img src="_static/images/view-page-source-icon.svg"></a>
          
        
      </li>
    
  </ul>

  
</div>
        </div>

        <div class="pytorch-shortcuts-wrapper" id="pytorch-shortcuts-wrapper">
          Shortcuts
        </div>
      </div>

      <section data-toggle="wy-nav-shift" id="pytorch-content-wrap" class="pytorch-content-wrap">
        <div class="pytorch-content-left">

        
  

  <!-- copied from pytorch_sphinx_theme -->
  
  <div class="rst-content">
  
    <div role="main" class="main-content" itemscope="itemscope" itemtype="http://schema.org/Article">
     <article itemprop="articleBody" id="pytorch-article" class="pytorch-article">
      
  <section id="quick-reference">
<h1>Quick Reference<a class="headerlink" href="#quick-reference" title="Permalink to this heading">¶</a></h1>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Imports, core types, Runner lifecycle, and copy-pasteable recipes on one
page. For detailed API docs see <a class="reference internal" href="specs.html"><span class="doc">torchx.specs</span></a> and <a class="reference internal" href="runner.html"><span class="doc">torchx.runner</span></a>.</p>
</div>
<section id="imports">
<h2>Imports<a class="headerlink" href="#imports" title="Permalink to this heading">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Core types — job definitions</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">torchx.specs</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">specs</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">torchx.specs</span><span class="w"> </span><span class="kn">import</span> <span class="n">AppDef</span><span class="p">,</span> <span class="n">Role</span><span class="p">,</span> <span class="n">Resource</span><span class="p">,</span> <span class="n">AppState</span><span class="p">,</span> <span class="n">macros</span>

<span class="c1"># Named resources — t-shirt-sized hardware presets</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">torchx.specs</span><span class="w"> </span><span class="kn">import</span> <span class="n">resource</span>

<span class="c1"># Runner — submit, monitor, and manage jobs</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">torchx.runner</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_runner</span>

<span class="c1"># Mounts — bind, volume, and device mounts</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">torchx.specs</span><span class="w"> </span><span class="kn">import</span> <span class="n">BindMount</span><span class="p">,</span> <span class="n">VolumeMount</span><span class="p">,</span> <span class="n">DeviceMount</span>
</pre></div>
</div>
</section>
<section id="core-types">
<h2>Core Types<a class="headerlink" href="#core-types" title="Permalink to this heading">¶</a></h2>
<section id="appdef">
<h3>AppDef<a class="headerlink" href="#appdef" title="Permalink to this heading">¶</a></h3>
<p>A job definition containing one or more <a class="reference internal" href="specs.html#torchx.specs.Role" title="torchx.specs.Role"><code class="xref py py-class docutils literal notranslate"><span class="pre">Role</span></code></a>s.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">app</span> <span class="o">=</span> <span class="n">AppDef</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;my_job&quot;</span><span class="p">,</span>             <span class="c1"># str — job name</span>
    <span class="n">roles</span><span class="o">=</span><span class="p">[</span><span class="o">...</span><span class="p">],</span>               <span class="c1"># list[Role] — one or more roles</span>
    <span class="n">metadata</span><span class="o">=</span><span class="p">{},</span>               <span class="c1"># dict[str, str] — scheduler-specific metadata</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="role">
<h3>Role<a class="headerlink" href="#role" title="Permalink to this heading">¶</a></h3>
<p>A set of identical replicas within an AppDef.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">role</span> <span class="o">=</span> <span class="n">Role</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;trainer&quot;</span><span class="p">,</span>            <span class="c1"># str — role name</span>
    <span class="n">image</span><span class="o">=</span><span class="s2">&quot;my_image:latest&quot;</span><span class="p">,</span>   <span class="c1"># str — Docker image, fbpkg, or path</span>
    <span class="n">entrypoint</span><span class="o">=</span><span class="s2">&quot;python&quot;</span><span class="p">,</span>       <span class="c1"># str — command to run</span>
    <span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;-m&quot;</span><span class="p">,</span> <span class="s2">&quot;my_app&quot;</span><span class="p">],</span>     <span class="c1"># list[str] — arguments to entrypoint</span>
    <span class="n">env</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;KEY&quot;</span><span class="p">:</span> <span class="s2">&quot;value&quot;</span><span class="p">},</span>      <span class="c1"># dict[str, str] — environment variables</span>
    <span class="n">num_replicas</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>            <span class="c1"># int — number of container replicas</span>
    <span class="n">resource</span><span class="o">=</span><span class="n">Resource</span><span class="p">(</span>         <span class="c1"># Resource — hardware requirements per replica</span>
        <span class="n">cpu</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">gpu</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">memMB</span><span class="o">=</span><span class="mi">8192</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="c1"># Optional fields:</span>
    <span class="c1"># min_replicas=1,          # int | None — minimum for elastic scaling</span>
    <span class="c1"># max_retries=3,           # int — retries before giving up</span>
    <span class="c1"># retry_policy=RetryPolicy.APPLICATION,</span>
    <span class="c1"># port_map={&quot;tb&quot;: 6006},   # dict[str, int] — named port mappings</span>
    <span class="c1"># mounts=[...],            # list[BindMount | VolumeMount | DeviceMount]</span>
    <span class="c1"># workspace=Workspace(...),</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="resource">
<h3>Resource<a class="headerlink" href="#resource" title="Permalink to this heading">¶</a></h3>
<p>Hardware requirements per replica. Prefer named resources over raw values.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Option 1: named resource (preferred)</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">torchx.specs</span><span class="w"> </span><span class="kn">import</span> <span class="n">resource</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">resource</span><span class="p">(</span><span class="n">h</span><span class="o">=</span><span class="s2">&quot;gpu.small&quot;</span><span class="p">)</span>   <span class="c1"># 8 CPU, 1 GPU, 32 GiB</span>

<span class="c1"># Option 2: explicit values</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">Resource</span><span class="p">(</span><span class="n">cpu</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">gpu</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">memMB</span><span class="o">=</span><span class="mi">8192</span><span class="p">)</span>

<span class="c1"># Option 3: AWS instance type</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">resource</span><span class="p">(</span><span class="n">h</span><span class="o">=</span><span class="s2">&quot;aws_p3.2xlarge&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>See <a class="reference internal" href="specs.html#named-resources"><span class="std std-ref">Named Resources</span></a> for the full list.</p>
</section>
</section>
<section id="runner-lifecycle">
<h2>Runner Lifecycle<a class="headerlink" href="#runner-lifecycle" title="Permalink to this heading">¶</a></h2>
<section id="create-a-runner">
<h3>Create a Runner<a class="headerlink" href="#create-a-runner" title="Permalink to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">torchx.runner</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_runner</span>

<span class="c1"># As a context manager (recommended — auto-closes scheduler connections)</span>
<span class="k">with</span> <span class="n">get_runner</span><span class="p">()</span> <span class="k">as</span> <span class="n">runner</span><span class="p">:</span>
    <span class="o">...</span>

<span class="c1"># Or manually</span>
<span class="n">runner</span> <span class="o">=</span> <span class="n">get_runner</span><span class="p">()</span>
<span class="c1"># ... use runner ...</span>
<span class="n">runner</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="submit-a-job">
<h3>Submit a Job<a class="headerlink" href="#submit-a-job" title="Permalink to this heading">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">run_component</span></code> resolves a component by name; <code class="docutils literal notranslate"><span class="pre">run</span></code> takes a direct AppDef.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">get_runner</span><span class="p">()</span> <span class="k">as</span> <span class="n">runner</span><span class="p">:</span>
    <span class="c1"># Method 1: run_component — resolves a component by name</span>
    <span class="c1"># Same resolution as `torchx run` CLI</span>
    <span class="n">app_handle</span> <span class="o">=</span> <span class="n">runner</span><span class="o">.</span><span class="n">run_component</span><span class="p">(</span>
        <span class="s2">&quot;dist.ddp&quot;</span><span class="p">,</span>                           <span class="c1"># component name</span>
        <span class="p">[</span><span class="s2">&quot;--script&quot;</span><span class="p">,</span> <span class="s2">&quot;train.py&quot;</span><span class="p">,</span> <span class="s2">&quot;-j&quot;</span><span class="p">,</span> <span class="s2">&quot;2x2&quot;</span><span class="p">],</span> <span class="c1"># args (list[str])</span>
        <span class="n">scheduler</span><span class="o">=</span><span class="s2">&quot;kubernetes&quot;</span><span class="p">,</span>                <span class="c1"># scheduler backend</span>
        <span class="n">cfg</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;namespace&quot;</span><span class="p">:</span> <span class="s2">&quot;default&quot;</span><span class="p">},</span>           <span class="c1"># scheduler config (optional)</span>
    <span class="p">)</span>

    <span class="c1"># Method 2: run — submit an AppDef directly</span>
    <span class="n">app</span> <span class="o">=</span> <span class="n">AppDef</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;my_job&quot;</span><span class="p">,</span> <span class="n">roles</span><span class="o">=</span><span class="p">[</span><span class="o">...</span><span class="p">])</span>
    <span class="n">app_handle</span> <span class="o">=</span> <span class="n">runner</span><span class="o">.</span><span class="n">run</span><span class="p">(</span>
        <span class="n">app</span><span class="p">,</span>
        <span class="n">scheduler</span><span class="o">=</span><span class="s2">&quot;kubernetes&quot;</span><span class="p">,</span>
        <span class="n">cfg</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;namespace&quot;</span><span class="p">:</span> <span class="s2">&quot;default&quot;</span><span class="p">},</span>
    <span class="p">)</span>
</pre></div>
</div>
</section>
<section id="monitor-and-wait">
<h3>Monitor and Wait<a class="headerlink" href="#monitor-and-wait" title="Permalink to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Poll status</span>
<span class="n">status</span> <span class="o">=</span> <span class="n">runner</span><span class="o">.</span><span class="n">status</span><span class="p">(</span><span class="n">app_handle</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">status</span><span class="o">.</span><span class="n">state</span><span class="p">)</span>       <span class="c1"># AppState enum (see table below)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">status</span><span class="o">.</span><span class="n">msg</span><span class="p">)</span>         <span class="c1"># human-readable message</span>
<span class="nb">print</span><span class="p">(</span><span class="n">status</span><span class="o">.</span><span class="n">ui_url</span><span class="p">)</span>      <span class="c1"># scheduler UI link (if available)</span>

<span class="c1"># Block until terminal state</span>
<span class="n">final_status</span> <span class="o">=</span> <span class="n">runner</span><span class="o">.</span><span class="n">wait</span><span class="p">(</span><span class="n">app_handle</span><span class="p">,</span> <span class="n">wait_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="c1"># Check if terminal</span>
<span class="k">if</span> <span class="n">final_status</span> <span class="ow">and</span> <span class="n">final_status</span><span class="o">.</span><span class="n">is_terminal</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Done:&quot;</span><span class="p">,</span> <span class="n">final_status</span><span class="o">.</span><span class="n">state</span><span class="p">)</span>

<span class="c1"># Raise an exception if the job did not succeed</span>
<span class="n">final_status</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>   <span class="c1"># raises AppStatusError on non-SUCCEEDED</span>
</pre></div>
</div>
<p><strong>AppState values:</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 10.0%" />
<col style="width: 65.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>State</p></th>
<th class="head"><p>Terminal?</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">UNSUBMITTED</span></code></p></td>
<td><p>No</p></td>
<td><p>Not yet submitted.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SUBMITTED</span></code></p></td>
<td><p>No</p></td>
<td><p>Submitted to the scheduler.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">PENDING</span></code></p></td>
<td><p>No</p></td>
<td><p>Waiting for resource allocation.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RUNNING</span></code></p></td>
<td><p>No</p></td>
<td><p>Running.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SUCCEEDED</span></code></p></td>
<td><p>Yes</p></td>
<td><p>Completed successfully.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">FAILED</span></code></p></td>
<td><p>Yes</p></td>
<td><p>Completed unsuccessfully.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CANCELLED</span></code></p></td>
<td><p>Yes</p></td>
<td><p>Cancelled before completing.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">UNKNOWN</span></code></p></td>
<td><p>No</p></td>
<td><p>State cannot be determined.</p></td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal notranslate"><span class="pre">app_handle</span></code> is a URI: <code class="docutils literal notranslate"><span class="pre">{scheduler}://{session_name}/{app_id}</span></code> (e.g.
<code class="docutils literal notranslate"><span class="pre">kubernetes://torchx/my_job_123</span></code>). Pass it to all Runner methods.</p>
</section>
<section id="cancel-and-delete">
<h3>Cancel and Delete<a class="headerlink" href="#cancel-and-delete" title="Permalink to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">runner</span><span class="o">.</span><span class="n">cancel</span><span class="p">(</span><span class="n">app_handle</span><span class="p">)</span>   <span class="c1"># request cancellation (async)</span>
<span class="n">runner</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">app_handle</span><span class="p">)</span>   <span class="c1"># remove from scheduler</span>
</pre></div>
</div>
</section>
<section id="fetch-logs">
<h3>Fetch Logs<a class="headerlink" href="#fetch-logs" title="Permalink to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get log lines for replica 0 of the &quot;trainer&quot; role</span>
<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">runner</span><span class="o">.</span><span class="n">log_lines</span><span class="p">(</span><span class="n">app_handle</span><span class="p">,</span> <span class="n">role_name</span><span class="o">=</span><span class="s2">&quot;trainer&quot;</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>    <span class="c1"># lines include trailing \n</span>
</pre></div>
</div>
</section>
</section>
<section id="common-recipes">
<h2>Common Recipes<a class="headerlink" href="#common-recipes" title="Permalink to this heading">¶</a></h2>
<section id="single-node-training">
<h3>Single-Node Training<a class="headerlink" href="#single-node-training" title="Permalink to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">torchx.specs</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">specs</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">torchx.runner</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_runner</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">torchx.specs</span><span class="w"> </span><span class="kn">import</span> <span class="n">resource</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">specs</span><span class="o">.</span><span class="n">AppDef</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;train&quot;</span><span class="p">,</span>
    <span class="n">roles</span><span class="o">=</span><span class="p">[</span>
        <span class="n">specs</span><span class="o">.</span><span class="n">Role</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="s2">&quot;trainer&quot;</span><span class="p">,</span>
            <span class="n">image</span><span class="o">=</span><span class="s2">&quot;my_image:latest&quot;</span><span class="p">,</span>
            <span class="n">entrypoint</span><span class="o">=</span><span class="s2">&quot;python&quot;</span><span class="p">,</span>
            <span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;-m&quot;</span><span class="p">,</span> <span class="s2">&quot;my_train&quot;</span><span class="p">,</span> <span class="s2">&quot;--epochs&quot;</span><span class="p">,</span> <span class="s2">&quot;10&quot;</span><span class="p">],</span>
            <span class="n">resource</span><span class="o">=</span><span class="n">resource</span><span class="p">(</span><span class="n">h</span><span class="o">=</span><span class="s2">&quot;gpu.small&quot;</span><span class="p">),</span>
            <span class="n">env</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;CUDA_VISIBLE_DEVICES&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">},</span>
        <span class="p">)</span>
    <span class="p">],</span>
<span class="p">)</span>

<span class="k">with</span> <span class="n">get_runner</span><span class="p">()</span> <span class="k">as</span> <span class="n">runner</span><span class="p">:</span>
    <span class="n">app_handle</span> <span class="o">=</span> <span class="n">runner</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">app</span><span class="p">,</span> <span class="n">scheduler</span><span class="o">=</span><span class="s2">&quot;local_cwd&quot;</span><span class="p">)</span>
    <span class="n">status</span> <span class="o">=</span> <span class="n">runner</span><span class="o">.</span><span class="n">wait</span><span class="p">(</span><span class="n">app_handle</span><span class="p">,</span> <span class="n">wait_interval</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">status</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="distributed-training-ddp">
<h3>Distributed Training (DDP)<a class="headerlink" href="#distributed-training-ddp" title="Permalink to this heading">¶</a></h3>
<p>Use the built-in <code class="docutils literal notranslate"><span class="pre">dist.ddp</span></code> component:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">torchx.runner</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_runner</span>

<span class="k">with</span> <span class="n">get_runner</span><span class="p">()</span> <span class="k">as</span> <span class="n">runner</span><span class="p">:</span>
    <span class="n">app_handle</span> <span class="o">=</span> <span class="n">runner</span><span class="o">.</span><span class="n">run_component</span><span class="p">(</span>
        <span class="s2">&quot;dist.ddp&quot;</span><span class="p">,</span>
        <span class="p">[</span>
            <span class="s2">&quot;--script&quot;</span><span class="p">,</span> <span class="s2">&quot;train.py&quot;</span><span class="p">,</span>
            <span class="s2">&quot;-j&quot;</span><span class="p">,</span> <span class="s2">&quot;2x2&quot;</span><span class="p">,</span>              <span class="c1"># 2 nodes x 2 workers per node</span>
            <span class="s2">&quot;--gpu&quot;</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span>
            <span class="s2">&quot;--memMB&quot;</span><span class="p">,</span> <span class="s2">&quot;8192&quot;</span><span class="p">,</span>
        <span class="p">],</span>
        <span class="n">scheduler</span><span class="o">=</span><span class="s2">&quot;kubernetes&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">status</span> <span class="o">=</span> <span class="n">runner</span><span class="o">.</span><span class="n">wait</span><span class="p">(</span><span class="n">app_handle</span><span class="p">)</span>
</pre></div>
</div>
<p>Or build the AppDef directly for full control:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">torchx.specs</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">specs</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">torchx.runner</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_runner</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">specs</span><span class="o">.</span><span class="n">AppDef</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;ddp_train&quot;</span><span class="p">,</span>
    <span class="n">roles</span><span class="o">=</span><span class="p">[</span>
        <span class="n">specs</span><span class="o">.</span><span class="n">Role</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="s2">&quot;trainer&quot;</span><span class="p">,</span>
            <span class="n">image</span><span class="o">=</span><span class="s2">&quot;my_image:latest&quot;</span><span class="p">,</span>
            <span class="n">entrypoint</span><span class="o">=</span><span class="s2">&quot;python&quot;</span><span class="p">,</span>
            <span class="n">args</span><span class="o">=</span><span class="p">[</span>
                <span class="s2">&quot;-m&quot;</span><span class="p">,</span> <span class="s2">&quot;torch.distributed.run&quot;</span><span class="p">,</span>
                <span class="s2">&quot;--nnodes&quot;</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span>
                <span class="s2">&quot;--nproc_per_node&quot;</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span>
                <span class="s2">&quot;train.py&quot;</span><span class="p">,</span>
            <span class="p">],</span>
            <span class="n">num_replicas</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
            <span class="n">resource</span><span class="o">=</span><span class="n">specs</span><span class="o">.</span><span class="n">Resource</span><span class="p">(</span><span class="n">cpu</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">gpu</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">memMB</span><span class="o">=</span><span class="mi">16384</span><span class="p">),</span>
        <span class="p">)</span>
    <span class="p">],</span>
<span class="p">)</span>

<span class="k">with</span> <span class="n">get_runner</span><span class="p">()</span> <span class="k">as</span> <span class="n">runner</span><span class="p">:</span>
    <span class="n">app_handle</span> <span class="o">=</span> <span class="n">runner</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">app</span><span class="p">,</span> <span class="n">scheduler</span><span class="o">=</span><span class="s2">&quot;kubernetes&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="custom-component">
<h3>Custom Component<a class="headerlink" href="#custom-component" title="Permalink to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># my_component.py</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">torchx.specs</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">specs</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">torchx.specs</span><span class="w"> </span><span class="kn">import</span> <span class="n">resource</span>

<span class="k">def</span><span class="w"> </span><span class="nf">trainer</span><span class="p">(</span>
    <span class="n">script</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">image</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;my_image:latest&quot;</span><span class="p">,</span>
    <span class="n">resource_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;gpu.small&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">specs</span><span class="o">.</span><span class="n">AppDef</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Launch single-node training.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">specs</span><span class="o">.</span><span class="n">AppDef</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;trainer&quot;</span><span class="p">,</span>
        <span class="n">roles</span><span class="o">=</span><span class="p">[</span>
            <span class="n">specs</span><span class="o">.</span><span class="n">Role</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="s2">&quot;trainer&quot;</span><span class="p">,</span>
                <span class="n">image</span><span class="o">=</span><span class="n">image</span><span class="p">,</span>
                <span class="n">entrypoint</span><span class="o">=</span><span class="s2">&quot;python&quot;</span><span class="p">,</span>
                <span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;-m&quot;</span><span class="p">,</span> <span class="n">script</span><span class="p">],</span>
                <span class="n">resource</span><span class="o">=</span><span class="n">resource</span><span class="p">(</span><span class="n">h</span><span class="o">=</span><span class="n">resource_name</span><span class="p">),</span>
            <span class="p">)</span>
        <span class="p">],</span>
    <span class="p">)</span>

<span class="c1"># Launch it:</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">torchx.runner</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_runner</span>

<span class="k">with</span> <span class="n">get_runner</span><span class="p">()</span> <span class="k">as</span> <span class="n">runner</span><span class="p">:</span>
    <span class="c1"># By name (same as CLI: torchx run my_component.py:trainer ...)</span>
    <span class="n">app_handle</span> <span class="o">=</span> <span class="n">runner</span><span class="o">.</span><span class="n">run_component</span><span class="p">(</span>
        <span class="s2">&quot;my_component.py:trainer&quot;</span><span class="p">,</span>
        <span class="p">[</span><span class="s2">&quot;--script&quot;</span><span class="p">,</span> <span class="s2">&quot;my_train&quot;</span><span class="p">,</span> <span class="s2">&quot;--resource_name&quot;</span><span class="p">,</span> <span class="s2">&quot;gpu.medium&quot;</span><span class="p">],</span>
        <span class="n">scheduler</span><span class="o">=</span><span class="s2">&quot;local_cwd&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># Or call the function directly</span>
    <span class="n">app</span> <span class="o">=</span> <span class="n">trainer</span><span class="p">(</span><span class="n">script</span><span class="o">=</span><span class="s2">&quot;my_train&quot;</span><span class="p">,</span> <span class="n">resource_name</span><span class="o">=</span><span class="s2">&quot;gpu.medium&quot;</span><span class="p">)</span>
    <span class="n">app_handle</span> <span class="o">=</span> <span class="n">runner</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">app</span><span class="p">,</span> <span class="n">scheduler</span><span class="o">=</span><span class="s2">&quot;local_cwd&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="environment-variables">
<h3>Environment Variables<a class="headerlink" href="#environment-variables" title="Permalink to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">role</span> <span class="o">=</span> <span class="n">specs</span><span class="o">.</span><span class="n">Role</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;trainer&quot;</span><span class="p">,</span>
    <span class="n">image</span><span class="o">=</span><span class="s2">&quot;my_image:latest&quot;</span><span class="p">,</span>
    <span class="n">entrypoint</span><span class="o">=</span><span class="s2">&quot;python&quot;</span><span class="p">,</span>
    <span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;-m&quot;</span><span class="p">,</span> <span class="s2">&quot;my_train&quot;</span><span class="p">],</span>
    <span class="n">env</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;NCCL_DEBUG&quot;</span><span class="p">:</span> <span class="s2">&quot;INFO&quot;</span><span class="p">,</span>
        <span class="s2">&quot;CUDA_VISIBLE_DEVICES&quot;</span><span class="p">:</span> <span class="s2">&quot;0,1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;MY_CONFIG&quot;</span><span class="p">:</span> <span class="s2">&quot;/data/config.yaml&quot;</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="mounts">
<h3>Mounts<a class="headerlink" href="#mounts" title="Permalink to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">torchx.specs</span><span class="w"> </span><span class="kn">import</span> <span class="n">BindMount</span><span class="p">,</span> <span class="n">VolumeMount</span>

<span class="n">role</span> <span class="o">=</span> <span class="n">specs</span><span class="o">.</span><span class="n">Role</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;trainer&quot;</span><span class="p">,</span>
    <span class="n">image</span><span class="o">=</span><span class="s2">&quot;my_image:latest&quot;</span><span class="p">,</span>
    <span class="n">entrypoint</span><span class="o">=</span><span class="s2">&quot;python&quot;</span><span class="p">,</span>
    <span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;-m&quot;</span><span class="p">,</span> <span class="s2">&quot;my_train&quot;</span><span class="p">],</span>
    <span class="n">mounts</span><span class="o">=</span><span class="p">[</span>
        <span class="c1"># Bind-mount a host directory</span>
        <span class="n">BindMount</span><span class="p">(</span><span class="n">src_path</span><span class="o">=</span><span class="s2">&quot;/data/datasets&quot;</span><span class="p">,</span> <span class="n">dst_path</span><span class="o">=</span><span class="s2">&quot;/mnt/data&quot;</span><span class="p">,</span> <span class="n">read_only</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
        <span class="c1"># Mount a persistent volume (Kubernetes PVC = Persistent Volume Claim, etc.)</span>
        <span class="n">VolumeMount</span><span class="p">(</span><span class="n">src</span><span class="o">=</span><span class="s2">&quot;my-pvc&quot;</span><span class="p">,</span> <span class="n">dst_path</span><span class="o">=</span><span class="s2">&quot;/mnt/checkpoints&quot;</span><span class="p">),</span>
    <span class="p">],</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="runtime-macros">
<h3>Runtime Macros<a class="headerlink" href="#runtime-macros" title="Permalink to this heading">¶</a></h3>
<p>Substitute scheduler-assigned values into <code class="docutils literal notranslate"><span class="pre">args</span></code>, <code class="docutils literal notranslate"><span class="pre">env</span></code>, and <code class="docutils literal notranslate"><span class="pre">metadata</span></code>
at runtime:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 30.0%" />
<col style="width: 70.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Macro</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">macros.app_id</span></code></p></td>
<td><p>Scheduler-assigned job ID</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">macros.replica_id</span></code></p></td>
<td><p>Per-role replica index (<code class="docutils literal notranslate"><span class="pre">0,</span> <span class="pre">1,</span> <span class="pre">2,</span> <span class="pre">...</span></code>)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">macros.img_root</span></code></p></td>
<td><p>Root directory of the pulled image</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">macros.rank0_env</span></code></p></td>
<td><p>Name of the env var holding the rank-0 host address
(resolve via shell expansion or application code; not available on all
schedulers)</p></td>
</tr>
</tbody>
</table>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">torchx.specs</span><span class="w"> </span><span class="kn">import</span> <span class="n">macros</span>

<span class="n">role</span> <span class="o">=</span> <span class="n">specs</span><span class="o">.</span><span class="n">Role</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;trainer&quot;</span><span class="p">,</span>
    <span class="n">image</span><span class="o">=</span><span class="s2">&quot;my_image:latest&quot;</span><span class="p">,</span>
    <span class="n">entrypoint</span><span class="o">=</span><span class="s2">&quot;python&quot;</span><span class="p">,</span>
    <span class="n">args</span><span class="o">=</span><span class="p">[</span>
        <span class="s2">&quot;-m&quot;</span><span class="p">,</span> <span class="s2">&quot;my_train&quot;</span><span class="p">,</span>
        <span class="s2">&quot;--job_id&quot;</span><span class="p">,</span> <span class="n">macros</span><span class="o">.</span><span class="n">app_id</span><span class="p">,</span>          <span class="c1"># scheduler-assigned job ID</span>
        <span class="s2">&quot;--replica&quot;</span><span class="p">,</span> <span class="n">macros</span><span class="o">.</span><span class="n">replica_id</span><span class="p">,</span>      <span class="c1"># 0, 1, 2, ...</span>
    <span class="p">],</span>
    <span class="n">env</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;IMG_ROOT&quot;</span><span class="p">:</span> <span class="n">macros</span><span class="o">.</span><span class="n">img_root</span><span class="p">,</span>         <span class="c1"># root dir of pulled image</span>
    <span class="p">},</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="scheduler-config">
<h3>Scheduler Config<a class="headerlink" href="#scheduler-config" title="Permalink to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">get_runner</span><span class="p">()</span> <span class="k">as</span> <span class="n">runner</span><span class="p">:</span>
    <span class="n">app_handle</span> <span class="o">=</span> <span class="n">runner</span><span class="o">.</span><span class="n">run</span><span class="p">(</span>
        <span class="n">app</span><span class="p">,</span>
        <span class="n">scheduler</span><span class="o">=</span><span class="s2">&quot;kubernetes&quot;</span><span class="p">,</span>
        <span class="n">cfg</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;namespace&quot;</span><span class="p">:</span> <span class="s2">&quot;my-namespace&quot;</span><span class="p">,</span>
            <span class="s2">&quot;image_repo&quot;</span><span class="p">:</span> <span class="s2">&quot;my-registry.example.com/images&quot;</span><span class="p">,</span>
            <span class="s2">&quot;queue&quot;</span><span class="p">:</span> <span class="s2">&quot;default&quot;</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">)</span>

<span class="c1"># Or via .torchxconfig file:</span>
<span class="c1"># [kubernetes]</span>
<span class="c1"># namespace=my-namespace</span>
<span class="c1"># image_repo=my-registry.example.com/images</span>
</pre></div>
</div>
</section>
</section>
<section id="scheduler-reference">
<h2>Scheduler Reference<a class="headerlink" href="#scheduler-reference" title="Permalink to this heading">¶</a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 35.0%" />
<col style="width: 45.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Backend</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">local_cwd</span></code></p></td>
<td><p>Current working directory</p></td>
<td><p>No container; runs as subprocesses. Good for development.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">local_docker</span></code></p></td>
<td><p>Local Docker daemon</p></td>
<td><p>Builds patched image from local workspace.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">kubernetes</span></code></p></td>
<td><p>Kubernetes</p></td>
<td><p>Creates <code class="docutils literal notranslate"><span class="pre">Job</span></code> resources. Requires cluster access.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">kubernetes_mcad</span></code></p></td>
<td><p>Kubernetes (MCAD)</p></td>
<td><p>Uses Multi-Cluster Application Dispatcher (MCAD) for gang scheduling
(all pods in a job start together or none start).</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">slurm</span></code></p></td>
<td><p>Slurm HPC</p></td>
<td><p>Generates <code class="docutils literal notranslate"><span class="pre">sbatch</span></code> scripts.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">aws_batch</span></code></p></td>
<td><p>AWS Batch</p></td>
<td><p>Creates job definitions and submits jobs.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">aws_sagemaker</span></code></p></td>
<td><p>AWS SageMaker</p></td>
<td><p>Creates training jobs.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">lsf</span></code></p></td>
<td><p>IBM LSF</p></td>
<td><p>Generates <code class="docutils literal notranslate"><span class="pre">bsub</span></code> scripts.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="named-resources-reference">
<h2>Named Resources Reference<a class="headerlink" href="#named-resources-reference" title="Permalink to this heading">¶</a></h2>
<p>Common cloud-agnostic sizes. For the complete list see
<a class="reference internal" href="specs.html#named-resources"><span class="std std-ref">Named Resources</span></a>.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 41.7%" />
<col style="width: 16.7%" />
<col style="width: 16.7%" />
<col style="width: 25.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>CPU</p></th>
<th class="head"><p>GPU</p></th>
<th class="head"><p>Memory</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">gpu.small</span></code></p></td>
<td><p>8</p></td>
<td><p>1</p></td>
<td><p>32 GiB</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">gpu.medium</span></code></p></td>
<td><p>16</p></td>
<td><p>2</p></td>
<td><p>64 GiB</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">gpu.large</span></code></p></td>
<td><p>32</p></td>
<td><p>4</p></td>
<td><p>128 GiB</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">gpu.xlarge</span></code></p></td>
<td><p>64</p></td>
<td><p>8</p></td>
<td><p>256 GiB</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">cpu.small</span></code></p></td>
<td><p>1</p></td>
<td><p>0</p></td>
<td><p>2 GiB</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">cpu.medium</span></code></p></td>
<td><p>2</p></td>
<td><p>0</p></td>
<td><p>4 GiB</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">cpu.large</span></code></p></td>
<td><p>2</p></td>
<td><p>0</p></td>
<td><p>8 GiB</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">cpu.xlarge</span></code></p></td>
<td><p>8</p></td>
<td><p>0</p></td>
<td><p>32 GiB</p></td>
</tr>
</tbody>
</table>
<p>See <a class="reference internal" href="specs.html#module-torchx.specs.named_resources_aws" title="torchx.specs.named_resources_aws"><code class="xref py py-mod docutils literal notranslate"><span class="pre">torchx.specs.named_resources_aws</span></code></a> for AWS instance-type
resources (e.g. <code class="docutils literal notranslate"><span class="pre">aws_p3.2xlarge</span></code>, <code class="docutils literal notranslate"><span class="pre">aws_m5.2xlarge</span></code>).</p>
</section>
<section id="anti-patterns">
<h2>Anti-Patterns<a class="headerlink" href="#anti-patterns" title="Permalink to this heading">¶</a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 50.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Avoid</p></th>
<th class="head"><p>Prefer</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Hard-coding <code class="docutils literal notranslate"><span class="pre">Resource(cpu=8,</span> <span class="pre">gpu=1,</span> <span class="pre">memMB=32000)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">resource(h=&quot;gpu.small&quot;)</span></code> — portable across environments</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">entrypoint=&quot;python</span> <span class="pre">/path/to/train.py&quot;</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">entrypoint=&quot;python&quot;,</span> <span class="pre">args=[&quot;-m&quot;,</span> <span class="pre">&quot;my_module&quot;]</span></code> — works across image layouts</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">env</span> <span class="pre">==</span> <span class="pre">&quot;prod&quot;:</span> <span class="pre">...</span> <span class="pre">else:</span> <span class="pre">...</span></code> inside a component</p></td>
<td><p>Separate <code class="docutils literal notranslate"><span class="pre">trainer_dev()</span></code> and <code class="docutils literal notranslate"><span class="pre">trainer_prod()</span></code> components with a shared <code class="docutils literal notranslate"><span class="pre">_trainer()</span></code> helper</p></td>
</tr>
<tr class="row-odd"><td><p>Constructing <code class="docutils literal notranslate"><span class="pre">image</span></code> strings inside components</p></td>
<td><p>Accept <code class="docutils literal notranslate"><span class="pre">image:</span> <span class="pre">str</span></code> as a parameter — callers control naming</p></td>
</tr>
<tr class="row-even"><td><p>Using <code class="docutils literal notranslate"><span class="pre">runner.stop()</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">runner.cancel()</span></code> — <code class="docutils literal notranslate"><span class="pre">stop()</span></code> is deprecated</p></td>
</tr>
<tr class="row-odd"><td><p>Parsing <code class="docutils literal notranslate"><span class="pre">runner.log_lines()</span></code> output programmatically</p></td>
<td><p>Use scheduler-native log APIs — log completeness is not guaranteed</p></td>
</tr>
</tbody>
</table>
</section>
<section id="plugin-implementor-quick-reference">
<h2>Plugin Implementor Quick Reference<a class="headerlink" href="#plugin-implementor-quick-reference" title="Permalink to this heading">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The rest of this page is for <strong>platform engineers</strong> extending TorchX.
Job authors can stop here. For full extension guides see <a class="reference internal" href="advanced.html"><span class="doc">Advanced Usage</span></a>
and <a class="reference internal" href="schedulers.html"><span class="doc">torchx.schedulers</span></a>.</p>
</div>
<p>Condensed skeletons linking to full guides.</p>
<section id="scheduler-plugin">
<h3>Scheduler Plugin<a class="headerlink" href="#scheduler-plugin" title="Permalink to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">dataclasses</span><span class="w"> </span><span class="kn">import</span> <span class="n">dataclass</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Mapping</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">torchx.schedulers.api</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
    <span class="n">DescribeAppResponse</span><span class="p">,</span>
    <span class="n">ListAppResponse</span><span class="p">,</span>
    <span class="n">Scheduler</span><span class="p">,</span>
    <span class="n">StructuredOpts</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">torchx.specs</span><span class="w"> </span><span class="kn">import</span> <span class="n">AppDef</span><span class="p">,</span> <span class="n">AppDryRunInfo</span><span class="p">,</span> <span class="n">CfgVal</span><span class="p">,</span> <span class="n">runopts</span>

<span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">MyRequest</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Native request type — passed from _submit_dryrun to schedule.&quot;&quot;&quot;</span>
    <span class="n">job_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">cmd</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>

<span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">MyOpts</span><span class="p">(</span><span class="n">StructuredOpts</span><span class="p">):</span>
    <span class="n">cluster</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;default&quot;</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Cluster to submit to.&quot;&quot;&quot;</span>

<span class="k">class</span><span class="w"> </span><span class="nc">MyScheduler</span><span class="p">(</span><span class="n">Scheduler</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">CfgVal</span><span class="p">]]):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">session_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="s2">&quot;my_backend&quot;</span><span class="p">,</span> <span class="n">session_name</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_run_opts</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">runopts</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">MyOpts</span><span class="o">.</span><span class="n">as_runopts</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_submit_dryrun</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">app</span><span class="p">:</span> <span class="n">AppDef</span><span class="p">,</span> <span class="n">cfg</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">CfgVal</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">AppDryRunInfo</span><span class="p">[</span><span class="n">MyRequest</span><span class="p">]:</span>
        <span class="n">opts</span> <span class="o">=</span> <span class="n">MyOpts</span><span class="o">.</span><span class="n">from_cfg</span><span class="p">(</span><span class="n">cfg</span><span class="p">)</span>
        <span class="n">role</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">roles</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">AppDryRunInfo</span><span class="p">(</span><span class="n">MyRequest</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="p">[</span><span class="n">role</span><span class="o">.</span><span class="n">entrypoint</span><span class="p">,</span> <span class="o">*</span><span class="n">role</span><span class="o">.</span><span class="n">args</span><span class="p">]),</span> <span class="nb">repr</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">schedule</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dryrun_info</span><span class="p">:</span> <span class="n">AppDryRunInfo</span><span class="p">[</span><span class="n">MyRequest</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">request</span><span class="p">:</span> <span class="n">MyRequest</span> <span class="o">=</span> <span class="n">dryrun_info</span><span class="o">.</span><span class="n">request</span>
        <span class="k">return</span> <span class="s2">&quot;job-id-123&quot;</span>  <span class="c1"># submit to backend, return ID</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">describe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">app_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DescribeAppResponse</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">DescribeAppResponse</span><span class="p">(</span><span class="n">app_id</span><span class="o">=</span><span class="n">app_id</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cfg</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">CfgVal</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">ListAppResponse</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">[]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_cancel_existing</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">app_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">pass</span>  <span class="c1"># cancel the job</span>

<span class="k">def</span><span class="w"> </span><span class="nf">create_scheduler</span><span class="p">(</span><span class="n">session_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MyScheduler</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">MyScheduler</span><span class="p">(</span><span class="n">session_name</span><span class="p">)</span>
</pre></div>
</div>
<p>Abstract methods: <code class="docutils literal notranslate"><span class="pre">_submit_dryrun</span></code>, <code class="docutils literal notranslate"><span class="pre">schedule</span></code>, <code class="docutils literal notranslate"><span class="pre">describe</span></code>, <code class="docutils literal notranslate"><span class="pre">list</span></code>,
<code class="docutils literal notranslate"><span class="pre">_cancel_existing</span></code>. Optional: <code class="docutils literal notranslate"><span class="pre">_run_opts</span></code>, <code class="docutils literal notranslate"><span class="pre">log_iter</span></code>, <code class="docutils literal notranslate"><span class="pre">close</span></code>,
<code class="docutils literal notranslate"><span class="pre">_validate</span></code>, <code class="docutils literal notranslate"><span class="pre">_pre_build_validate</span></code>, <code class="docutils literal notranslate"><span class="pre">_delete_existing</span></code>.</p>
<p>See <a class="reference internal" href="schedulers.html#implementing-scheduler"><span class="std std-ref">Implementing a Custom Scheduler</span></a> for the
full guide.</p>
</section>
<section id="workspace-plugin">
<h3>Workspace Plugin<a class="headerlink" href="#workspace-plugin" title="Permalink to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Mapping</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">torchx.specs</span><span class="w"> </span><span class="kn">import</span> <span class="n">CfgVal</span><span class="p">,</span> <span class="n">Role</span><span class="p">,</span> <span class="n">runopts</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">torchx.workspace</span><span class="w"> </span><span class="kn">import</span> <span class="n">WorkspaceMixin</span>

<span class="k">class</span><span class="w"> </span><span class="nc">MyWorkspaceMixin</span><span class="p">(</span><span class="n">WorkspaceMixin</span><span class="p">[</span><span class="kc">None</span><span class="p">]):</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">workspace_opts</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">runopts</span><span class="p">:</span>
        <span class="n">opts</span> <span class="o">=</span> <span class="n">runopts</span><span class="p">()</span>
        <span class="n">opts</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;artifact_store&quot;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Remote artifact store URL&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">opts</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">caching_build_workspace_and_update_role</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">role</span><span class="p">:</span> <span class="n">Role</span><span class="p">,</span>
        <span class="n">cfg</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">CfgVal</span><span class="p">],</span>
        <span class="n">build_cache</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">object</span><span class="p">,</span> <span class="nb">object</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">role</span><span class="o">.</span><span class="n">workspace</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="c1"># ... build and upload workspace, then update role ...</span>
        <span class="n">role</span><span class="o">.</span><span class="n">env</span><span class="p">[</span><span class="s2">&quot;WORKSPACE_URL&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">cfg</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;artifact_store&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">role</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>
</pre></div>
</div>
<p>Mix into a scheduler: <code class="docutils literal notranslate"><span class="pre">class</span> <span class="pre">MyScheduler(MyWorkspaceMixin,</span> <span class="pre">Scheduler[...]):</span> <span class="pre">...</span></code></p>
<p>See <a class="reference internal" href="workspace.html"><span class="doc">torchx.workspace</span></a> for the full API.</p>
</section>
<section id="tracker-plugin">
<h3>Tracker Plugin<a class="headerlink" href="#tracker-plugin" title="Permalink to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">torchx.tracker.api</span><span class="w"> </span><span class="kn">import</span> <span class="n">TrackerBase</span><span class="p">,</span> <span class="n">TrackerArtifact</span><span class="p">,</span> <span class="n">TrackerSource</span><span class="p">,</span> <span class="n">Lineage</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Iterable</span><span class="p">,</span> <span class="n">Mapping</span>

<span class="k">class</span><span class="w"> </span><span class="nc">MyTracker</span><span class="p">(</span><span class="n">TrackerBase</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">connection_str</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_conn</span> <span class="o">=</span> <span class="n">connection_str</span>

    <span class="c1"># --- write methods ---</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">add_artifact</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">run_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">metadata</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">object</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span> <span class="o">...</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">run_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span> <span class="o">...</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_source</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">run_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">source_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">artifact_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span> <span class="o">...</span>

    <span class="c1"># --- read methods ---</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">artifacts</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">run_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">TrackerArtifact</span><span class="p">]:</span> <span class="o">...</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">run_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">object</span><span class="p">]:</span> <span class="o">...</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">sources</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">run_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">artifact_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">TrackerSource</span><span class="p">]:</span> <span class="o">...</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">lineage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">run_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Lineage</span><span class="p">:</span> <span class="o">...</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">run_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span> <span class="o">...</span>

<span class="k">def</span><span class="w"> </span><span class="nf">create</span><span class="p">(</span><span class="n">config</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TrackerBase</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">MyTracker</span><span class="p">(</span><span class="n">connection_str</span><span class="o">=</span><span class="n">config</span> <span class="ow">or</span> <span class="s2">&quot;default://localhost&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Abstract methods: <code class="docutils literal notranslate"><span class="pre">add_artifact</span></code>, <code class="docutils literal notranslate"><span class="pre">artifacts</span></code>, <code class="docutils literal notranslate"><span class="pre">add_metadata</span></code>,
<code class="docutils literal notranslate"><span class="pre">metadata</span></code>, <code class="docutils literal notranslate"><span class="pre">add_source</span></code>, <code class="docutils literal notranslate"><span class="pre">sources</span></code>, <code class="docutils literal notranslate"><span class="pre">lineage</span></code>, <code class="docutils literal notranslate"><span class="pre">run_ids</span></code>.</p>
<p>See <a class="reference internal" href="advanced.html#registering-custom-trackers"><span class="std std-ref">Registering Custom Trackers</span></a> for the
full guide.</p>
</section>
<section id="cli-command-plugin">
<h3>CLI Command Plugin<a class="headerlink" href="#cli-command-plugin" title="Permalink to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">argparse</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">torchx.cli.cmd_base</span><span class="w"> </span><span class="kn">import</span> <span class="n">SubCommand</span>

<span class="k">class</span><span class="w"> </span><span class="nc">CmdMyTool</span><span class="p">(</span><span class="n">SubCommand</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">add_arguments</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">subparser</span><span class="p">:</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">subparser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;--config&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Path to config file&quot;</span><span class="p">)</span>
        <span class="n">subparser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;app_id&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Application handle&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">argparse</span><span class="o">.</span><span class="n">Namespace</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Running my_tool on </span><span class="si">{</span><span class="n">args</span><span class="o">.</span><span class="n">app_id</span><span class="si">}</span><span class="s2"> with config=</span><span class="si">{</span><span class="n">args</span><span class="o">.</span><span class="n">config</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Abstract methods: <code class="docutils literal notranslate"><span class="pre">add_arguments</span></code>, <code class="docutils literal notranslate"><span class="pre">run</span></code>.</p>
<p>See <a class="reference internal" href="advanced.html#registering-custom-cli-commands"><span class="std std-ref">Registering Custom CLI Commands</span></a> for
the full guide.</p>
</section>
<section id="entry-point-registration">
<h3>Entry-Point Registration<a class="headerlink" href="#entry-point-registration" title="Permalink to this heading">¶</a></h3>
<p><strong>setup.py format:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># setup.py</span>
<span class="n">entry_points</span><span class="o">=</span><span class="p">{</span>
    <span class="s2">&quot;torchx.schedulers&quot;</span><span class="p">:</span>       <span class="p">[</span><span class="s2">&quot;my_sched = my_pkg:create_scheduler&quot;</span><span class="p">],</span>
    <span class="s2">&quot;torchx.named_resources&quot;</span><span class="p">:</span>  <span class="p">[</span><span class="s2">&quot;gpu_x4 = my_pkg.resources:gpu_x4&quot;</span><span class="p">],</span>
    <span class="s2">&quot;torchx.components&quot;</span><span class="p">:</span>       <span class="p">[</span><span class="s2">&quot;myco = my_pkg.components&quot;</span><span class="p">],</span>
    <span class="s2">&quot;torchx.tracker&quot;</span><span class="p">:</span>          <span class="p">[</span><span class="s2">&quot;my_tracker = my_pkg.tracking:create&quot;</span><span class="p">],</span>
    <span class="s2">&quot;torchx.cli.cmds&quot;</span><span class="p">:</span>         <span class="p">[</span><span class="s2">&quot;my_tool = my_pkg.cli:CmdMyTool&quot;</span><span class="p">],</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>pyproject.toml format:</strong></p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[project.entry-points.</span><span class="s2">&quot;torchx.schedulers&quot;</span><span class="k">]</span>
<span class="n">my_sched</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;my_pkg:create_scheduler&quot;</span>

<span class="k">[project.entry-points.</span><span class="s2">&quot;torchx.named_resources&quot;</span><span class="k">]</span>
<span class="n">gpu_x4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;my_pkg.resources:gpu_x4&quot;</span>

<span class="k">[project.entry-points.</span><span class="s2">&quot;torchx.components&quot;</span><span class="k">]</span>
<span class="n">myco</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;my_pkg.components&quot;</span>

<span class="k">[project.entry-points.</span><span class="s2">&quot;torchx.tracker&quot;</span><span class="k">]</span>
<span class="n">my_tracker</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;my_pkg.tracking:create&quot;</span>

<span class="k">[project.entry-points.</span><span class="s2">&quot;torchx.cli.cmds&quot;</span><span class="k">]</span>
<span class="n">my_tool</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;my_pkg.cli:CmdMyTool&quot;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Entry point targets differ by plugin type:</p>
<ul class="simple">
<li><p><strong>Schedulers</strong>: factory function <code class="docutils literal notranslate"><span class="pre">(session_name:</span> <span class="pre">str,</span> <span class="pre">**kwargs)</span> <span class="pre">-&gt;</span> <span class="pre">Scheduler</span></code></p></li>
<li><p><strong>Named resources</strong>: factory function <code class="docutils literal notranslate"><span class="pre">()</span> <span class="pre">-&gt;</span> <span class="pre">Resource</span></code></p></li>
<li><p><strong>Components</strong>: module path (TorchX discovers component functions inside it)</p></li>
<li><p><strong>Trackers</strong>: factory function <code class="docutils literal notranslate"><span class="pre">(config:</span> <span class="pre">str</span> <span class="pre">|</span> <span class="pre">None)</span> <span class="pre">-&gt;</span> <span class="pre">TrackerBase</span></code></p></li>
<li><p><strong>CLI commands</strong>: <code class="docutils literal notranslate"><span class="pre">SubCommand</span></code> class (not a factory – TorchX calls <code class="docutils literal notranslate"><span class="pre">cls()</span></code>)</p></li>
</ul>
</div>
<p>See <a class="reference internal" href="advanced.html"><span class="doc">Advanced Usage</span></a> for the full registration guide.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="specs.html"><span class="doc">torchx.specs</span></a></dt><dd><p>Full API documentation for AppDef, Role, Resource, and related types.</p>
</dd>
<dt><a class="reference internal" href="runner.html"><span class="doc">torchx.runner</span></a></dt><dd><p>Full API documentation for Runner and get_runner.</p>
</dd>
<dt><a class="reference internal" href="schedulers.html"><span class="doc">torchx.schedulers</span></a></dt><dd><p>Scheduler API reference and implementation guide.</p>
</dd>
<dt><a class="reference internal" href="workspace.html"><span class="doc">torchx.workspace</span></a></dt><dd><p>Workspace API reference and custom workspace mixin guide.</p>
</dd>
<dt><a class="reference internal" href="tracker.html"><span class="doc">torchx.tracker</span></a></dt><dd><p>Tracker API reference and backend implementations.</p>
</dd>
<dt><a class="reference internal" href="cli.html"><span class="doc">CLI</span></a></dt><dd><p>CLI module API reference and custom command guide.</p>
</dd>
<dt><a class="reference internal" href="custom_components.html"><span class="doc">Custom Components</span></a></dt><dd><p>Step-by-step guide for writing and launching custom components.</p>
</dd>
<dt><a class="reference internal" href="component_best_practices.html"><span class="doc">Component Best Practices</span></a></dt><dd><p>Best practices for authoring reusable components.</p>
</dd>
</dl>
</div>
</section>
</section>
</section>


     </article>
     
    </div>
    <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="specs.html" class="btn btn-neutral float-right" title="torchx.specs" accesskey="n" rel="next">Next <img src="_static/images/chevron-right-orange.svg" class="next-page"></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="TorchX" accesskey="p" rel="prev"><img src="_static/images/chevron-right-orange.svg" class="previous-page"> Previous</a>
      
    </div>
  

  

    <hr>

  

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, TorchX Contributors.

    </p>
  </div>
    
      <div>
        Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
      </div>
     

</footer>

  </div>
        </div>

        <div class="pytorch-content-right" id="pytorch-content-right">
          <div class="pytorch-right-menu" id="pytorch-right-menu">
            <div class="pytorch-side-scroll" id="pytorch-side-scroll-right">
              <ul>
<li><a class="reference internal" href="#">Quick Reference</a><ul>
<li><a class="reference internal" href="#imports">Imports</a></li>
<li><a class="reference internal" href="#core-types">Core Types</a><ul>
<li><a class="reference internal" href="#appdef">AppDef</a></li>
<li><a class="reference internal" href="#role">Role</a></li>
<li><a class="reference internal" href="#resource">Resource</a></li>
</ul>
</li>
<li><a class="reference internal" href="#runner-lifecycle">Runner Lifecycle</a><ul>
<li><a class="reference internal" href="#create-a-runner">Create a Runner</a></li>
<li><a class="reference internal" href="#submit-a-job">Submit a Job</a></li>
<li><a class="reference internal" href="#monitor-and-wait">Monitor and Wait</a></li>
<li><a class="reference internal" href="#cancel-and-delete">Cancel and Delete</a></li>
<li><a class="reference internal" href="#fetch-logs">Fetch Logs</a></li>
</ul>
</li>
<li><a class="reference internal" href="#common-recipes">Common Recipes</a><ul>
<li><a class="reference internal" href="#single-node-training">Single-Node Training</a></li>
<li><a class="reference internal" href="#distributed-training-ddp">Distributed Training (DDP)</a></li>
<li><a class="reference internal" href="#custom-component">Custom Component</a></li>
<li><a class="reference internal" href="#environment-variables">Environment Variables</a></li>
<li><a class="reference internal" href="#mounts">Mounts</a></li>
<li><a class="reference internal" href="#runtime-macros">Runtime Macros</a></li>
<li><a class="reference internal" href="#scheduler-config">Scheduler Config</a></li>
</ul>
</li>
<li><a class="reference internal" href="#scheduler-reference">Scheduler Reference</a></li>
<li><a class="reference internal" href="#named-resources-reference">Named Resources Reference</a></li>
<li><a class="reference internal" href="#anti-patterns">Anti-Patterns</a></li>
<li><a class="reference internal" href="#plugin-implementor-quick-reference">Plugin Implementor Quick Reference</a><ul>
<li><a class="reference internal" href="#scheduler-plugin">Scheduler Plugin</a></li>
<li><a class="reference internal" href="#workspace-plugin">Workspace Plugin</a></li>
<li><a class="reference internal" href="#tracker-plugin">Tracker Plugin</a></li>
<li><a class="reference internal" href="#cli-command-plugin">CLI Command Plugin</a></li>
<li><a class="reference internal" href="#entry-point-registration">Entry-Point Registration</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            </div>
          </div>
        </div>
      </section>
    </div>

  


  

     
       <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
         <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
         <script src="_static/jquery.js"></script>
         <script src="_static/underscore.js"></script>
         <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
         <script src="_static/doctools.js"></script>
         <script src="_static/sphinx_highlight.js"></script>
         <script src="_static/katex.min.js"></script>
         <script src="_static/auto-render.min.js"></script>
         <script src="_static/katex_autorenderer.js"></script>
         <script src="_static/js/torchx.js"></script>
     

  

  <script type="text/javascript" src="_static/js/vendor/popper.min.js"></script>
  <script type="text/javascript" src="_static/js/vendor/bootstrap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/list.js/1.5.0/list.min.js"></script>
  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

  <!-- Begin Footer -->

  <div class="container-fluid docs-tutorials-resources" id="docs-tutorials-resources">
    <div class="container">
      <div class="row">
        <div class="col-md-4 text-center">
          <h2>Docs</h2>
          <p>Access comprehensive developer documentation for PyTorch</p>
          <a class="with-right-arrow" href="https://pytorch.org/docs/stable/index.html">View Docs</a>
        </div>

        <div class="col-md-4 text-center">
          <h2>Tutorials</h2>
          <p>Get in-depth tutorials for beginners and advanced developers</p>
          <a class="with-right-arrow" href="https://pytorch.org/tutorials">View Tutorials</a>
        </div>

        <div class="col-md-4 text-center">
          <h2>Resources</h2>
          <p>Find development resources and get your questions answered</p>
          <a class="with-right-arrow" href="https://pytorch.org/resources">View Resources</a>
        </div>
      </div>
    </div>
  </div>

  <footer class="site-footer">
    <div class="container footer-container">
      <div class="footer-logo-wrapper">
        <a href="https://pytorch.org/" class="footer-logo"></a>
      </div>

      <div class="footer-links-wrapper">
        <div class="footer-links-col">
          <ul>
            <li class="list-title"><a href="https://pytorch.org/">PyTorch</a></li>
            <li><a href="https://pytorch.org/get-started">Get Started</a></li>
            <li><a href="https://pytorch.org/features">Features</a></li>
            <li><a href="https://pytorch.org/ecosystem">Ecosystem</a></li>
            <li><a href="https://pytorch.org/blog/">Blog</a></li>
            <li><a href="https://github.com/pytorch/pytorch/blob/master/CONTRIBUTING.md">Contributing</a></li>
          </ul>
        </div>

        <div class="footer-links-col">
          <ul>
            <li class="list-title"><a href="https://pytorch.org/resources">Resources</a></li>
            <li><a href="https://pytorch.org/tutorials">Tutorials</a></li>
            <li><a href="https://pytorch.org/docs/stable/index.html">Docs</a></li>
            <li><a href="https://discuss.pytorch.org" target="_blank">Discuss</a></li>
            <li><a href="https://github.com/pytorch/pytorch/issues" target="_blank">Github Issues</a></li>
            <li><a href="https://pytorch.org/assets/brand-guidelines/PyTorch-Brand-Guidelines.pdf" target="_blank">Brand Guidelines</a></li>
          </ul>
        </div>

        <div class="footer-links-col">
          <ul>
            <li class="list-title">Stay up to date</li>
            <li><a href="https://www.facebook.com/pytorch" target="_blank">Facebook</a></li>
            <li><a href="https://twitter.com/pytorch" target="_blank">Twitter</a></li>
            <li><a href="https://www.youtube.com/pytorch" target="_blank">YouTube</a></li>
            <li><a href="https://www.linkedin.com/company/pytorch" target="_blank">LinkedIn</a></li>
          </ul>  
          </div>

        <div class="footer-links-col">
          <ul>
            <li class="list-title">PyTorch Podcasts</li>
            <li><a href="https://open.spotify.com/show/6UzHKeiy368jKfQMKKvJY5" target="_blank">Spotify</a></li>
            <li><a href="https://podcasts.apple.com/us/podcast/pytorch-developer-podcast/id1566080008" target="_blank">Apple</a></li>
            <li><a href="https://www.google.com/podcasts?feed=aHR0cHM6Ly9mZWVkcy5zaW1wbGVjYXN0LmNvbS9PQjVGa0lsOA%3D%3D" target="_blank">Google</a></li>
            <li><a href="https://music.amazon.com/podcasts/7a4e6f0e-26c2-49e9-a478-41bd244197d0/PyTorch-Developer-Podcast?" target="_blank">Amazon</a></li>
          </ul>
         </div>
        </div>
        
        <div class="privacy-policy">
          <ul>
            <li class="privacy-policy-links"><a href="https://www.linuxfoundation.org/terms/" target="_blank">Terms</a></li>
            <li class="privacy-policy-links">|</li>
            <li class="privacy-policy-links"><a href="https://www.linuxfoundation.org/privacy-policy/" target="_blank">Privacy</a></li>
          </ul>
        </div>
        <div class="copyright">
        <p>© Copyright The Linux Foundation. The PyTorch Foundation is a project of The Linux Foundation.
          For web site terms of use, trademark policy and other policies applicable to The PyTorch Foundation please see
          <a href="https://www.linuxfoundation.org/policies/">www.linuxfoundation.org/policies/</a>. The PyTorch Foundation supports the PyTorch open source
          project, which has been established as PyTorch Project a Series of LF Projects, LLC. For policies applicable to the PyTorch Project a Series of LF Projects, LLC,
          please see <a href="https://www.lfprojects.org/policies/">www.lfprojects.org/policies/</a>.</p>
      </div>
     </div>

  </footer>

  <div class="cookie-banner-wrapper">
  <div class="container">
    <p class="gdpr-notice">To analyze traffic and optimize your experience, we serve cookies on this site. By clicking or navigating, you agree to allow our usage of cookies. As the current maintainers of this site, Facebook’s Cookies Policy applies. Learn more, including about available controls: <a href="https://www.facebook.com/policies/cookies/">Cookies Policy</a>.</p>
    <img class="close-button" src="_static/images/pytorch-x.svg">
  </div>
</div>

  <!-- End Footer -->

  <!-- Begin Mobile Menu -->

  <div class="mobile-main-menu">
    <div class="container-fluid">
      <div class="container">
        <div class="mobile-main-menu-header-container">
          <a class="header-logo" href="https://pytorch.org/" aria-label="PyTorch"></a>
          <a class="main-menu-close-button" href="#" data-behavior="close-mobile-menu"></a>
        </div>
      </div>
    </div>

    <div class="mobile-main-menu-links-container">
      <div class="main-menu">
        <ul>
           <li class="resources-mobile-menu-title">
             <a>Learn</a>
           </li>
           <ul class="resources-mobile-menu-items">
             <li>
               <a href="https://pytorch.org/get-started">Get Started</a>
             </li>
             <li>
               <a href="https://pytorch.org/tutorials">Tutorials</a>
             </li>
             <li>
               <a href="https://pytorch.org/tutorials/beginner/basics/intro.html">Learn the Basics</a>
             </li>
             <li>
               <a href="https://pytorch.org/tutorials/recipes/recipes_index.html">PyTorch Recipes</a>
             </li>
             <li>
               <a href="https://pytorch.org/tutorials/beginner/introyt.html">Introduction to PyTorch - YouTube Series</a>
             </li>
           </ul>
           <li class="resources-mobile-menu-title">
             <a>Ecosystem</a>
           </li>
           <ul class="resources-mobile-menu-items">
             <li>
               <a href="https://pytorch.org/ecosystem">Tools</a>
             </li>
             <li>
               <a href="https://pytorch.org/#community-module">Community</a>
             </li>
             <li>
               <a href="https://discuss.pytorch.org/">Forums</a>
             </li>
             <li>
               <a href="https://pytorch.org/resources">Developer Resources</a>
             </li>
             <li>
               <a href="https://pytorch.org/ecosystem/contributor-awards-2023">Contributor Awards - 2024</a>
             </li>
           </ul>

           <li class="resources-mobile-menu-title">
             <a>Edge</a>
           </li>

           <ul class="resources-mobile-menu-items">
             <li>
               <a href="https://pytorch.org/edge">About PyTorch Edge</a>
             </li>
             
             <li>
               <a href="https://pytorch.org/executorch-overview">ExecuTorch</a>
             </li>
             <li>
               <a href="https://pytorch.org/executorch/stable/index.html">ExecuTorch Documentation</a>
             </li>
           </ul>

           <li class="resources-mobile-menu-title">
             <a>Docs</a>
           </li>

           <ul class="resources-mobile-menu-items">
            <li>
              <a href="https://pytorch.org/docs/stable/index.html">PyTorch</a>
            </li>

            <li>
              <a href="https://pytorch.org/pytorch-domains">PyTorch Domains</a>
            </li>
          </ul>

          <li class="resources-mobile-menu-title">
            <a>Blog & News</a>
          </li>
            
           <ul class="resources-mobile-menu-items">
            <li>
              <a href="https://pytorch.org/blog/">PyTorch Blog</a>
            </li>
            <li>
              <a href="https://pytorch.org/community-blog">Community Blog</a>
            </li>

            <li>
              <a href="https://pytorch.org/videos">Videos</a>
            </li>

            <li>
              <a href="https://pytorch.org/community-stories">Community Stories</a>
            </li>
            <li>
              <a href="https://pytorch.org/events">Events</a>
            </li>
            <li>
               <a href="https://pytorch.org/newsletter">Newsletter</a>
             </li>
          </ul>
          
          <li class="resources-mobile-menu-title">
            <a>About</a>
          </li>

          <ul class="resources-mobile-menu-items">
            <li>
              <a href="https://pytorch.org/foundation">PyTorch Foundation</a>
            </li>
            <li>
              <a href="https://pytorch.org/governing-board">Governing Board</a>
            </li>
            <li>
               <a href="https://pytorch.org/credits">Cloud Credit Program</a>
            </li>
            <li>
               <a href="https://pytorch.org/tac">Technical Advisory Council</a>
            </li>
            <li>
               <a href="https://pytorch.org/staff">Staff</a>
            </li>
            <li>
               <a href="https://pytorch.org/contact-us">Contact Us</a>
            </li>
          </ul>
        </ul>
      </div>
    </div>
  </div>

  <!-- End Mobile Menu -->

  <script type="text/javascript" src="_static/js/vendor/anchor.min.js"></script>

  <script type="text/javascript">
    $(document).ready(function() {
      mobileMenu.bind();
      mobileTOC.bind();
      pytorchAnchors.bind();
      sideMenus.bind();
      scrollToAnchor.bind();
      highlightNavigation.bind();
      mainMenuDropdown.bind();
      filterTags.bind();

      // Add class to links that have code blocks, since we cannot create links in code blocks
      $("article.pytorch-article a span.pre").each(function(e) {
        $(this).closest("a").addClass("has-code");
      });
    })
  </script>
</body>
</html>