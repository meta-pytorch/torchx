


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>torchx.specs &mdash; PyTorch/TorchX main documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!-- <link rel="stylesheet" href="_static/pygments.css" type="text/css" /> -->
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0-beta/dist/katex.min.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/torchx.css" type="text/css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css" type="text/css" />
  <link rel="stylesheet" href="_static/katex-math.css" type="text/css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0-beta/dist/katex.min.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/torchx.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="torchx.runner" href="runner.html" />
    <link rel="prev" title="Quick Reference" href="api_reference.html" />
  <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','UA-117752657-2');</script>
    <!-- End Google Tag Manager -->
  

  
  <script src="_static/js/modernizr.min.js"></script>

  <!-- Preload the theme fonts -->

<link rel="preload" href="_static/fonts/FreightSans/freight-sans-book.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="_static/fonts/FreightSans/freight-sans-medium.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="_static/fonts/IBMPlexMono/IBMPlexMono-Medium.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="_static/fonts/FreightSans/freight-sans-bold.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="_static/fonts/FreightSans/freight-sans-medium-italic.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="_static/fonts/IBMPlexMono/IBMPlexMono-SemiBold.woff2" as="font" type="font/woff2" crossorigin="anonymous">

<!-- Preload the katex fonts -->

<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Math-Italic.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Main-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Main-Bold.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size1-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size4-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size2-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size3-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Caligraphic-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css" integrity="sha384-vSIIfh2YWi9wW0r9iZe7RJPrKwp6bG+s9QZMoITbCckVJqGCCRhc+ccxNcdpHuYu" crossorigin="anonymous">
</head>

<div class="container-fluid header-holder tutorials-header" id="header-holder">
  <div class="container">
    <div class="header-container">
      <a class="header-logo" href="https://pytorch.org/" aria-label="PyTorch"></a>

      <div class="main-menu">
        <ul>

          <li class="main-menu-item">
          <div id="resourcesDropdownButton" data-toggle="resources-dropdown" class="resources-dropdown">
              <a class="with-down-arrow">
                Learn
              </a>
              <div class="resources-dropdown-menu">
                <a class="nav-dropdown-item" href="https://pytorch.org/get-started">
                  <span class=dropdown-title>Get Started</span>
                  <p>Run PyTorch locally or get started quickly with one of the supported cloud platforms</p>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/tutorials">
                  <span class="dropdown-title">Tutorials</span>
                  <p>Whats new in PyTorch tutorials</p>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/tutorials/beginner/basics/intro.html">
                  <span class="dropdown-title">Learn the Basics</span>
                  <p>Familiarize yourself with PyTorch concepts and modules</p>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/tutorials/recipes/recipes_index.html">
                  <span class="dropdown-title">PyTorch Recipes</span>
                  <p>Bite-size, ready-to-deploy PyTorch code examples</p>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/tutorials/beginner/introyt.html">
                  <span class="dropdown-title">Intro to PyTorch - YouTube Series</span>
                  <p>Master PyTorch basics with our engaging YouTube tutorial series</p>
                </a>
              </div>
            </div>
          </li>

          <li>
          <div id="resourcesDropdownButton" data-toggle="resources-dropdown" class="resources-dropdown">
              <a class="with-down-arrow">
                Ecosystem
              </a>
              <div class="resources-dropdown-menu">
                <a class="nav-dropdown-item" href="https://pytorch.org/ecosystem">
                  <span class="dropdown-title">Tools</span>
                  <p>Learn about the tools and frameworks in the PyTorch Ecosystem</p>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/#community-module">
                  <span class=dropdown-title>Community</span>
                  <p>Join the PyTorch developer community to contribute, learn, and get your questions answered</p>
                </a>
                <a class="nav-dropdown-item" href="https://discuss.pytorch.org/" target="_blank">
                  <span class=dropdown-title>Forums</span>
                  <p>A place to discuss PyTorch code, issues, install, research</p>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/resources">
                  <span class=dropdown-title>Developer Resources</span>
                  <p>Find resources and get questions answered</p>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/ecosystem/contributor-awards-2024">
                  <span class="dropdown-title">Contributor Awards - 2024</span>
                  <p>Award winners announced at this year's PyTorch Conference</p>
                </a>
              </div>
            </div>
          </li>

          <li>
          <div id="resourcesDropdownButton" data-toggle="resources-dropdown" class="resources-dropdown">
              <a class="with-down-arrow">
                Edge
              </a>
              <div class="resources-dropdown-menu">
                <a class="nav-dropdown-item" href="https://pytorch.org/edge">
                  <span class="dropdown-title">About PyTorch Edge</span>
                  <p>Build innovative and privacy-aware AI experiences for edge devices</p>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/executorch-overview">
                  <span class="dropdown-title">ExecuTorch</span>
                  <p>End-to-end solution for enabling on-device inference capabilities across mobile and edge devices</p>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/executorch/stable/index.html">
                  <span class="dropdown-title">ExecuTorch Docs</span>
                </a>
              </div>
            </div>  
          </li>

          <li class="main-menu-item">
            <div id="resourcesDropdownButton" data-toggle="resources-dropdown" class="resources-dropdown">
              <a class="with-down-arrow">
                Docs
              </a>
              <div class="resources-dropdown-menu">
                <a class="nav-dropdown-item" href="https://pytorch.org/docs/stable/index.html">
                  <span class="dropdown-title">PyTorch</span>
                  <p>Explore the documentation for comprehensive guidance on how to use PyTorch</p>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/pytorch-domains">
                  <span class="dropdown-title">PyTorch Domains</span>
                  <p>Read the PyTorch Domains documentation to learn more about domain-specific libraries</p>
                </a>
              </div>
            </div>
          </li>

          <li>
            <div id="resourcesDropdownButton" data-toggle="resources-dropdown" class="resources-dropdown">
              <a class="with-down-arrow">
                Blogs & News 
              </a>
              <div class="resources-dropdown-menu">
                <a class="nav-dropdown-item" href="https://pytorch.org/blog/">
                  <span class="dropdown-title">PyTorch Blog</span>
                  <p>Catch up on the latest technical news and happenings</p>
                </a>
                 <a class="nav-dropdown-item" href="https://pytorch.org/community-blog">
                  <span class="dropdown-title">Community Blog</span>
                  <p>Stories from the PyTorch ecosystem</p>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/videos">
                  <span class="dropdown-title">Videos</span>
                  <p>Learn about the latest PyTorch tutorials, new, and more </p>
                <a class="nav-dropdown-item" href="https://pytorch.org/community-stories">
                  <span class="dropdown-title">Community Stories</span>
                  <p>Learn how our community solves real, everyday machine learning problems with PyTorch</p>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/events">
                  <span class="dropdown-title">Events</span>
                  <p>Find events, webinars, and podcasts</p>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/newsletter">
                  <span class="dropdown-title">Newsletter</span>
                  <p>Stay up-to-date with the latest updates</p>
                </a>
            </div>
          </li>

          <li>
            <div id="resourcesDropdownButton" data-toggle="resources-dropdown" class="resources-dropdown">
              <a class="with-down-arrow">
                About
              </a>
              <div class="resources-dropdown-menu">
                <a class="nav-dropdown-item" href="https://pytorch.org/foundation">
                  <span class="dropdown-title">PyTorch Foundation</span>
                  <p>Learn more about the PyTorch Foundation</p>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/governing-board">
                  <span class="dropdown-title">Governing Board</span>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/credits">
                  <span class="dropdown-title">Cloud Credit Program</span>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/tac">
                  <span class="dropdown-title">Technical Advisory Council</span>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/staff">
                  <span class="dropdown-title">Staff</span>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/contact-us">
                  <span class="dropdown-title">Contact Us</span>
                </a>
              </div>
            </div>
          </li>

          <li class="main-menu-item">
            <div class="no-dropdown">
              <a href="https://pytorch.org/join" data-cta="join">
                Become a Member
              </a>
            </div>
          </li>
          <li>
           <div class="main-menu-item">
             <a href="https://github.com/pytorch/pytorch" class="github-icon">
             </a>
           </div>
          </li>
          <!--- TODO: This block adds the search icon to the nav bar. We will enable it later. 
          <li>
            <div class="main-menu-item">
             <a href="https://github.com/pytorch/pytorch" class="search-icon">
             </a>
            </div>
          </li>
          --->
        </ul>
      </div>

      <a class="main-menu-open-button" href="#" data-behavior="open-mobile-menu"></a>
    </div>
  </div>
</div>

<body class="pytorch-body">

  
  
    <div id="redirect-banner" style="display: none">
      <p>
        This is the public documentation. There's an internal wiki with extra
        information for Meta employees at
        <a href="https://fburl.com/torchx">https://fburl.com/torchx</a>
      </p>
    </div>
  

    

    <div class="table-of-contents-link-wrapper">
      <span>Table of Contents</span>
      <a href="#" class="toggle-table-of-contents" data-behavior="toggle-table-of-contents"></a>
    </div>

    <nav data-toggle="wy-nav-shift" class="pytorch-left-menu" id="pytorch-left-menu">
      <div class="pytorch-side-scroll">
        <div class="pytorch-menu pytorch-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          <div class="pytorch-left-menu-search">
            
    <div class="version">
      <a href='/torchx/versions.html'>v0.8.0dev0 &#x25BC</a>
    </div>
    


  


<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search Docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          </div>

          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="api_reference.html">Quick Reference</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">torchx.specs</a></li>
<li class="toctree-l1"><a class="reference internal" href="runner.html">torchx.runner</a></li>
<li class="toctree-l1"><a class="reference internal" href="schedulers.html">torchx.schedulers</a></li>
<li class="toctree-l1"><a class="reference internal" href="workspace.html">torchx.workspace</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="basics.html">Basic Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_components.html">Custom Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced.html">Advanced Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">CLI</a></li>
<li class="toctree-l1"><a class="reference internal" href="runner.config.html">.torchxconfig</a></li>
<li class="toctree-l1"><a class="reference internal" href="tracker.html">torchx.tracker</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Schedulers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="schedulers/local.html">Local</a></li>
<li class="toctree-l1"><a class="reference internal" href="schedulers/docker.html">Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="schedulers/kubernetes.html">Kubernetes</a></li>
<li class="toctree-l1"><a class="reference internal" href="schedulers/kubernetes_mcad.html">Kubernetes-MCAD</a></li>
<li class="toctree-l1"><a class="reference internal" href="schedulers/slurm.html">Slurm</a></li>
<li class="toctree-l1"><a class="reference internal" href="schedulers/aws_batch.html">AWS Batch</a></li>
<li class="toctree-l1"><a class="reference internal" href="schedulers/aws_sagemaker.html">AWS SageMaker</a></li>
<li class="toctree-l1"><a class="reference internal" href="schedulers/lsf.html">IBM Spectrum LSF</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Workspaces</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="workspaces/docker.html">Docker</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Application (Runtime)</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="runtime/overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="runtime/tracking.html">Tracking</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Best Practices</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="app_best_practices.html">App Best Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="component_best_practices.html">Component Best Practices</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <div class="pytorch-container">
      <div class="pytorch-page-level-bar" id="pytorch-page-level-bar">
        <div class="pytorch-breadcrumbs-wrapper">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="pytorch-breadcrumbs">
    
      <li>
        <a href="index.html">
          
            Docs
          
        </a> &gt;
      </li>

        
      <li>torchx.specs</li>
    
    
      <li class="pytorch-breadcrumbs-aside">
        
            
            <a href="_sources/specs.rst.txt" rel="nofollow"><img src="_static/images/view-page-source-icon.svg"></a>
          
        
      </li>
    
  </ul>

  
</div>
        </div>

        <div class="pytorch-shortcuts-wrapper" id="pytorch-shortcuts-wrapper">
          Shortcuts
        </div>
      </div>

      <section data-toggle="wy-nav-shift" id="pytorch-content-wrap" class="pytorch-content-wrap">
        <div class="pytorch-content-left">

        
  

  <!-- copied from pytorch_sphinx_theme -->
  
  <div class="rst-content">
  
    <div role="main" class="main-content" itemscope="itemscope" itemtype="http://schema.org/Article">
     <article itemprop="articleBody" id="pytorch-article" class="pytorch-article">
      
  <section id="torchx-specs">
<h1>torchx.specs<a class="headerlink" href="#torchx-specs" title="Permalink to this heading">¶</a></h1>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>API reference for TorchX’s core data types. For a conceptual overview see
<a class="reference internal" href="basics.html"><span class="doc">Basic Concepts</span></a>. For copy-pasteable recipes see <a class="reference internal" href="api_reference.html"><span class="doc">Quick Reference</span></a>.</p>
</div>
<span class="target" id="module-torchx.specs"></span><p>Core TorchX types for defining distributed applications.</p>
<p>The main types are <a class="reference internal" href="#torchx.specs.AppDef" title="torchx.specs.AppDef"><code class="xref py py-class docutils literal notranslate"><span class="pre">AppDef</span></code></a>, <a class="reference internal" href="#torchx.specs.Role" title="torchx.specs.Role"><code class="xref py py-class docutils literal notranslate"><span class="pre">Role</span></code></a>, and <a class="reference internal" href="#torchx.specs.Resource" title="torchx.specs.Resource"><code class="xref py py-class docutils literal notranslate"><span class="pre">Resource</span></code></a>.
Components are functions that return an <code class="docutils literal notranslate"><span class="pre">AppDef</span></code> which can then be launched
via a <a class="reference internal" href="schedulers.html#torchx.schedulers.api.Scheduler" title="torchx.schedulers.api.Scheduler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Scheduler</span></code></a>.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">torchx.specs</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">specs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">app</span> <span class="o">=</span> <span class="n">specs</span><span class="o">.</span><span class="n">AppDef</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;echo&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">roles</span><span class="o">=</span><span class="p">[</span><span class="n">specs</span><span class="o">.</span><span class="n">Role</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;worker&quot;</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="s2">&quot;/tmp&quot;</span><span class="p">,</span> <span class="n">entrypoint</span><span class="o">=</span><span class="s2">&quot;/bin/echo&quot;</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;hello&quot;</span><span class="p">])],</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">app</span><span class="o">.</span><span class="n">name</span>
<span class="go">&#39;echo&#39;</span>
</pre></div>
</div>
<section id="appdef">
<h2>AppDef<a class="headerlink" href="#appdef" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="torchx.specs.AppDef">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torchx.specs.</span></span><span class="sig-name descname"><span class="pre">AppDef</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name:</span> <span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">roles:</span> <span class="pre">list[torchx.specs.api.Role]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata:</span> <span class="pre">dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torchx/specs/api.html#AppDef"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torchx.specs.AppDef" title="Permalink to this definition">¶</a></dt>
<dd><p>A distributed application composed of one or more <a class="reference internal" href="#torchx.specs.Role" title="torchx.specs.Role"><code class="xref py py-class docutils literal notranslate"><span class="pre">Role</span></code></a> s.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">torchx.specs</span><span class="w"> </span><span class="kn">import</span> <span class="n">AppDef</span><span class="p">,</span> <span class="n">Role</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">app</span> <span class="o">=</span> <span class="n">AppDef</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;my_train&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">roles</span><span class="o">=</span><span class="p">[</span><span class="n">Role</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;trainer&quot;</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="s2">&quot;my_image:latest&quot;</span><span class="p">)],</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>metadata</strong> – scheduler-specific metadata (treatment varies by scheduler)</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="role">
<h2>Role<a class="headerlink" href="#role" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="torchx.specs.Role">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torchx.specs.</span></span><span class="sig-name descname"><span class="pre">Role</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name:</span> <span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image:</span> <span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_replicas:</span> <span class="pre">int</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entrypoint:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'&lt;MISSING&gt;'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args:</span> <span class="pre">list[str]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env:</span> <span class="pre">dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_replicas:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_retries:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retry_policy:</span> <span class="pre">~torchx.specs.api.RetryPolicy</span> <span class="pre">=</span> <span class="pre">RetryPolicy.APPLICATION</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resource:</span> <span class="pre">~torchx.specs.api.Resource</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port_map:</span> <span class="pre">dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">int]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata:</span> <span class="pre">dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">typing.Any]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mounts:</span> <span class="pre">list[torchx.specs.api.BindMount</span> <span class="pre">|</span> <span class="pre">torchx.specs.api.VolumeMount</span> <span class="pre">|</span> <span class="pre">torchx.specs.api.DeviceMount]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">workspace:</span> <span class="pre">torchx.specs.api.Workspace</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overrides:</span> <span class="pre">dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">typing.Any]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torchx/specs/api.html#Role"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torchx.specs.Role" title="Permalink to this definition">¶</a></dt>
<dd><p>A set of nodes that perform a specific duty within an <a class="reference internal" href="#torchx.specs.AppDef" title="torchx.specs.AppDef"><code class="xref py py-class docutils literal notranslate"><span class="pre">AppDef</span></code></a>.</p>
<ul class="simple">
<li><p>DDP app — single role (<code class="docutils literal notranslate"><span class="pre">trainer</span></code>)</p></li>
<li><p>Parameter-server app — multiple roles (<code class="docutils literal notranslate"><span class="pre">trainer</span></code>, <code class="docutils literal notranslate"><span class="pre">ps</span></code>)</p></li>
</ul>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">torchx.specs</span><span class="w"> </span><span class="kn">import</span> <span class="n">Role</span><span class="p">,</span> <span class="n">Resource</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">trainer</span> <span class="o">=</span> <span class="n">Role</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;trainer&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">image</span><span class="o">=</span><span class="s2">&quot;pytorch/torch:latest&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">entrypoint</span><span class="o">=</span><span class="s2">&quot;train.py&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;--lr&quot;</span><span class="p">,</span> <span class="s2">&quot;0.01&quot;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">num_replicas</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">resource</span><span class="o">=</span><span class="n">Resource</span><span class="p">(</span><span class="n">cpu</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">gpu</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">memMB</span><span class="o">=</span><span class="mi">8192</span><span class="p">),</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – name of the role</p></li>
<li><p><strong>image</strong> – software bundle installed on the container (docker image, fbpkg, tar-ball, etc.)</p></li>
<li><p><strong>entrypoint</strong> – command to invoke inside the container</p></li>
<li><p><strong>args</strong> – arguments to the entrypoint</p></li>
<li><p><strong>env</strong> – environment variable mappings</p></li>
<li><p><strong>num_replicas</strong> – number of container replicas</p></li>
<li><p><strong>min_replicas</strong> – minimum replicas for elastic scaling. If unset or unsupported
by the scheduler, the job runs at <code class="docutils literal notranslate"><span class="pre">num_replicas</span></code>.</p></li>
<li><p><strong>max_retries</strong> – max number of retries before giving up</p></li>
<li><p><strong>retry_policy</strong> – retry behavior upon failures</p></li>
<li><p><strong>resource</strong> – resource requirements per replica</p></li>
<li><p><strong>port_map</strong> – named port mappings (e.g. <code class="docutils literal notranslate"><span class="pre">{&quot;tensorboard&quot;:</span> <span class="pre">8081}</span></code>)</p></li>
<li><p><strong>metadata</strong> – scheduler-specific data. Keys should follow <code class="docutils literal notranslate"><span class="pre">$scheduler.$key</span></code>.</p></li>
<li><p><strong>mounts</strong> – bind, volume, or device mounts</p></li>
<li><p><strong>workspace</strong> – local project directories to mirror on the remote job.
The <code class="docutils literal notranslate"><span class="pre">workspace</span></code> argument on <a class="reference internal" href="runner.html#torchx.runner.Runner" title="torchx.runner.api.Runner"><code class="xref py py-class docutils literal notranslate"><span class="pre">Runner</span></code></a>
APIs overrides this on <code class="docutils literal notranslate"><span class="pre">roles[0]</span></code>.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="torchx.specs.Role.pre_proc">
<span class="sig-name descname"><span class="pre">pre_proc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scheduler</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">dryrun_info</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#torchx.specs.AppDryRunInfo" title="torchx.specs.api.AppDryRunInfo"><span class="pre">AppDryRunInfo</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#torchx.specs.AppDryRunInfo" title="torchx.specs.api.AppDryRunInfo"><span class="pre">AppDryRunInfo</span></a></span></span><a class="reference internal" href="_modules/torchx/specs/api.html#Role.pre_proc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torchx.specs.Role.pre_proc" title="Permalink to this definition">¶</a></dt>
<dd><p>Hook for role-specific scheduler request modifications.</p>
<p>Called per-role during <a class="reference internal" href="schedulers.html#torchx.schedulers.api.Scheduler.submit_dryrun" title="torchx.schedulers.api.Scheduler.submit_dryrun"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Scheduler.submit_dryrun</span></code></a>,
in the order they appear in <code class="xref py py-attr docutils literal notranslate"><span class="pre">AppDef.roles</span></code>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="torchx.specs.RetryPolicy">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torchx.specs.</span></span><span class="sig-name descname"><span class="pre">RetryPolicy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names=&lt;not</span> <span class="pre">given&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qualname=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">boundary=None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torchx/specs/api.html#RetryPolicy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torchx.specs.RetryPolicy" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines the retry policy for the <code class="docutils literal notranslate"><span class="pre">Roles</span></code> in the <code class="docutils literal notranslate"><span class="pre">AppDef</span></code>.
The policy defines the behavior when the role replica encounters a failure:</p>
<ol class="arabic simple">
<li><p>unsuccessful (non zero) exit code</p></li>
<li><p>hardware/host crashes</p></li>
<li><p>preemption</p></li>
<li><p>eviction</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Not all retry policies are supported by all schedulers.
However all schedulers must support <code class="docutils literal notranslate"><span class="pre">RetryPolicy.APPLICATION</span></code>.
Please refer to the scheduler’s documentation for more information
on the retry policies they support and behavior caveats (if any).</p>
</div>
<ol class="arabic simple">
<li><dl class="simple">
<dt>REPLICA: Replaces the replica instance. Surviving replicas are untouched.</dt><dd><p>Use with <code class="docutils literal notranslate"><span class="pre">dist.ddp</span></code> component to have torchelastic coordinate
restarts and membership changes. Otherwise, it is up to the
application to deal with failed replica departures and
replacement replica admittance.</p>
</dd>
</dl>
</li>
<li><p>APPLICATION: Restarts the entire application.</p></li>
<li><dl class="simple">
<dt>ROLE: Restarts the role when any error occurs in that role. This does not</dt><dd><p>restart the whole job.</p>
</dd>
</dl>
</li>
</ol>
</dd></dl>

</section>
<section id="resource">
<h2>Resource<a class="headerlink" href="#resource" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="torchx.specs.Resource">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torchx.specs.</span></span><span class="sig-name descname"><span class="pre">Resource</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cpu:</span> <span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gpu:</span> <span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">memMB:</span> <span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">capabilities:</span> <span class="pre">dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">typing.Any]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">devices:</span> <span class="pre">dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">int]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tags:</span> <span class="pre">dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">object]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torchx/specs/api.html#Resource"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torchx.specs.Resource" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents resource requirements for a <a class="reference internal" href="#torchx.specs.Role" title="torchx.specs.Role"><code class="xref py py-class docutils literal notranslate"><span class="pre">Role</span></code></a>.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Prefer <a class="reference internal" href="#torchx.specs.resource" title="torchx.specs.resource"><code class="xref py py-func docutils literal notranslate"><span class="pre">resource()</span></code></a> with named resources
(t-shirt sizes) over specifying raw values directly.</p>
</div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">torchx.specs</span><span class="w"> </span><span class="kn">import</span> <span class="n">Resource</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Resource</span><span class="p">(</span><span class="n">cpu</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">gpu</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">memMB</span><span class="o">=</span><span class="mi">8192</span><span class="p">)</span>
<span class="go">Resource(cpu=4, gpu=1, memMB=8192, capabilities={}, devices={}, tags={})</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cpu</strong> – number of logical cpu cores</p></li>
<li><p><strong>gpu</strong> – number of gpus</p></li>
<li><p><strong>memMB</strong> – MB of ram</p></li>
<li><p><strong>capabilities</strong> – additional hardware specs (interpreted by scheduler)</p></li>
<li><p><strong>devices</strong> – named devices with their quantities (e.g. <code class="docutils literal notranslate"><span class="pre">{&quot;vpc.amazonaws.com/efa&quot;:</span> <span class="pre">1}</span></code>)</p></li>
<li><p><strong>tags</strong> – metadata tags (not interpreted by schedulers)</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="torchx.specs.Resource.copy">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">original</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#torchx.specs.Resource" title="torchx.specs.api.Resource"><span class="pre">Resource</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">capabilities</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#torchx.specs.Resource" title="torchx.specs.api.Resource"><span class="pre">Resource</span></a></span></span><a class="reference internal" href="_modules/torchx/specs/api.html#Resource.copy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torchx.specs.Resource.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Copies a resource, merging in the given <code class="docutils literal notranslate"><span class="pre">capabilities</span></code>.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="torchx.specs.resource">
<span class="sig-prename descclassname"><span class="pre">torchx.specs.</span></span><span class="sig-name descname"><span class="pre">resource</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cpu</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gpu</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">memMB</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#torchx.specs.Resource" title="torchx.specs.api.Resource"><span class="pre">Resource</span></a></span></span><a class="reference internal" href="_modules/torchx/specs.html#resource"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torchx.specs.resource" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a <a class="reference internal" href="#torchx.specs.Resource" title="torchx.specs.Resource"><code class="xref py py-class docutils literal notranslate"><span class="pre">Resource</span></code></a> from raw specs or a named resource.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">h</span></code> is set, it takes precedence (raw specs are ignored). See
<a class="reference internal" href="advanced.html#registering-named-resources"><span class="std std-ref">Registering Named Resources</span></a> for custom named resources.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">torchx.specs</span><span class="w"> </span><span class="kn">import</span> <span class="n">resource</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">resource</span><span class="p">(</span><span class="n">cpu</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">gpu</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">memMB</span><span class="o">=</span><span class="mi">8192</span><span class="p">)</span>
<span class="go">Resource(cpu=4, gpu=1, memMB=8192, capabilities={}, devices={}, tags={})</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="workspace">
<h2>Workspace<a class="headerlink" href="#workspace" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="torchx.specs.Workspace">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torchx.specs.</span></span><span class="sig-name descname"><span class="pre">Workspace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">projects</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torchx/specs/api.html#Workspace"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torchx.specs.Workspace" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps local project directories to remote workspace locations. At submit-time,
files are copied/synced so that the remote job mirrors local code changes.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">torchx.specs</span><span class="w"> </span><span class="kn">import</span> <span class="n">Workspace</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># copies ~/github/torch/** into $REMOTE_ROOT/torch/**</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ws</span> <span class="o">=</span> <span class="n">Workspace</span><span class="p">(</span><span class="n">projects</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;~/github/torch&quot;</span><span class="p">:</span> <span class="s2">&quot;torch&quot;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># copies ~/github/torch/** into $REMOTE_ROOT/** (no sub-dir)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ws</span> <span class="o">=</span> <span class="n">Workspace</span><span class="p">(</span><span class="n">projects</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;~/github/torch&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">})</span>
</pre></div>
</div>
<p>The exact <code class="docutils literal notranslate"><span class="pre">$REMOTE_ROOT</span></code> is implementation-dependent. See
<a class="reference internal" href="workspace.html#torchx.workspace.WorkspaceMixin" title="torchx.workspace.api.WorkspaceMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">WorkspaceMixin</span></code></a> and scheduler docs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>projects</strong> – <code class="docutils literal notranslate"><span class="pre">{local_path:</span> <span class="pre">remote_subdir}</span></code> mapping.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="torchx.specs.Workspace.is_unmapped_single_project">
<span class="sig-name descname"><span class="pre">is_unmapped_single_project</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span></span><a class="reference internal" href="_modules/torchx/specs/api.html#Workspace.is_unmapped_single_project"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torchx.specs.Workspace.is_unmapped_single_project" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if this is a single-project workspace with no target sub-directory.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="torchx.specs.Workspace.merge_into">
<span class="sig-name descname"><span class="pre">merge_into</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">outdir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.14)"><span class="pre">pathlib.Path</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/torchx/specs/api.html#Workspace.merge_into"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torchx.specs.Workspace.merge_into" title="Permalink to this definition">¶</a></dt>
<dd><p>Copies each project into <code class="docutils literal notranslate"><span class="pre">{outdir}/{target}</span></code>.</p>
</dd></dl>

</dd></dl>

</section>
<section id="macros">
<h2>Macros<a class="headerlink" href="#macros" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="torchx.specs.macros">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torchx.specs.</span></span><span class="sig-name descname"><span class="pre">macros</span></span><a class="reference internal" href="_modules/torchx/specs/api.html#macros"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torchx.specs.macros" title="Permalink to this definition">¶</a></dt>
<dd><p>Template variables substituted at runtime in <code class="xref py py-attr docutils literal notranslate"><span class="pre">Role.args</span></code>,
<code class="xref py py-attr docutils literal notranslate"><span class="pre">Role.env</span></code>, and <code class="xref py py-attr docutils literal notranslate"><span class="pre">Role.metadata</span></code>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Macros in other <a class="reference internal" href="#torchx.specs.Role" title="torchx.specs.Role"><code class="xref py py-class docutils literal notranslate"><span class="pre">Role</span></code></a> fields are NOT substituted.</p>
</div>
<p>Available macros:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">img_root</span></code> — root directory of the pulled image</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">app_id</span></code> — application id as assigned by the scheduler</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">replica_id</span></code> — per-role replica index (<code class="docutils literal notranslate"><span class="pre">0,</span> <span class="pre">1,</span> <span class="pre">...</span></code>).
When a replica is replaced after failure, the replacement retains
the same <code class="docutils literal notranslate"><span class="pre">replica_id</span></code>.</p></li>
</ol>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">torchx.specs</span><span class="w"> </span><span class="kn">import</span> <span class="n">AppDef</span><span class="p">,</span> <span class="n">Role</span><span class="p">,</span> <span class="n">macros</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">trainer</span> <span class="o">=</span> <span class="n">Role</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;trainer&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">image</span><span class="o">=</span><span class="s2">&quot;my_image:latest&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">entrypoint</span><span class="o">=</span><span class="s2">&quot;train.py&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;--app_id&quot;</span><span class="p">,</span> <span class="n">macros</span><span class="o">.</span><span class="n">app_id</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">env</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;IMG_ROOT&quot;</span><span class="p">:</span> <span class="n">macros</span><span class="o">.</span><span class="n">img_root</span><span class="p">},</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">app</span> <span class="o">=</span> <span class="n">AppDef</span><span class="p">(</span><span class="s2">&quot;train_app&quot;</span><span class="p">,</span> <span class="n">roles</span><span class="o">=</span><span class="p">[</span><span class="n">trainer</span><span class="p">])</span>
</pre></div>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="torchx.specs.macros.Values">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">img_root</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">app_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">replica_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">rank0_env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_img_root</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'DEPRECATED'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torchx/specs/api.html#macros.Values"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torchx.specs.macros.Values" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="torchx.specs.macros.Values.apply">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">role</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#torchx.specs.Role" title="torchx.specs.api.Role"><span class="pre">Role</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#torchx.specs.Role" title="torchx.specs.api.Role"><span class="pre">Role</span></a></span></span><a class="reference internal" href="_modules/torchx/specs/api.html#macros.Values.apply"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torchx.specs.macros.Values.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a deep copy of <code class="docutils literal notranslate"><span class="pre">role</span></code> with macros substituted.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="torchx.specs.macros.Values.substitute">
<span class="sig-name descname"><span class="pre">substitute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></span><a class="reference internal" href="_modules/torchx/specs/api.html#macros.Values.substitute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torchx.specs.macros.Values.substitute" title="Permalink to this definition">¶</a></dt>
<dd><p>Substitutes macro placeholders in <code class="docutils literal notranslate"><span class="pre">arg</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="torchx.specs.macros.Values.to_dict">
<span class="sig-name descname"><span class="pre">to_dict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/torchx/specs/api.html#macros.Values.to_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torchx.specs.macros.Values.to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the macro values as a plain dict.</p>
</dd></dl>

</dd></dl>

</dd></dl>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In addition to the three macros listed in the class docstring, two more
attributes exist:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">macros.rank0_env</span></code> – expands to the <strong>name</strong> of the environment variable
that provides the rank-0 (master) host address. Resolve it via shell
expansion (<code class="docutils literal notranslate"><span class="pre">$${rank0_env}</span></code>) or in application code. Not available on all
schedulers.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">macros.base_img_root</span></code> – <strong>deprecated</strong>. Do not use in new code.</p></li>
</ul>
</div>
</section>
<section id="run-configs">
<h2>Run Configs<a class="headerlink" href="#run-configs" title="Permalink to this heading">¶</a></h2>
<dl class="py data">
<dt class="sig sig-object py" id="torchx.specs.CfgVal">
<span class="sig-prename descclassname"><span class="pre">torchx.specs.</span></span><span class="sig-name descname"><span class="pre">CfgVal</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">str</span> <span class="pre">|</span> <span class="pre">int</span> <span class="pre">|</span> <span class="pre">float</span> <span class="pre">|</span> <span class="pre">bool</span> <span class="pre">|</span> <span class="pre">list[str]</span> <span class="pre">|</span> <span class="pre">dict[str,</span> <span class="pre">str]</span> <span class="pre">|</span> <span class="pre">None</span></em><a class="headerlink" href="#torchx.specs.CfgVal" title="Permalink to this definition">¶</a></dt>
<dd><p>Represent a PEP 604 union type</p>
<p>E.g. for int | str</p>
<p>Type alias for run config values:
<code class="docutils literal notranslate"><span class="pre">str</span> <span class="pre">|</span> <span class="pre">int</span> <span class="pre">|</span> <span class="pre">float</span> <span class="pre">|</span> <span class="pre">bool</span> <span class="pre">|</span> <span class="pre">list[str]</span> <span class="pre">|</span> <span class="pre">dict[str,</span> <span class="pre">str]</span> <span class="pre">|</span> <span class="pre">None</span></code>.
Used in <code class="docutils literal notranslate"><span class="pre">cfg</span></code> dicts passed to <a class="reference internal" href="runner.html#torchx.runner.Runner.run" title="torchx.runner.Runner.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a> and
scheduler methods.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="torchx.specs.runopts">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torchx.specs.</span></span><span class="sig-name descname"><span class="pre">runopts</span></span><a class="reference internal" href="_modules/torchx/specs/api.html#runopts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torchx.specs.runopts" title="Permalink to this definition">¶</a></dt>
<dd><p>Schema for scheduler run configuration.</p>
<p>Holds accepted config keys, defaults, and help strings. Constructed by
<a class="reference internal" href="schedulers.html#torchx.schedulers.api.Scheduler.run_opts" title="torchx.schedulers.api.Scheduler.run_opts"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Scheduler.run_opts()</span></code></a>
and validated at submit time.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">torchx.specs</span><span class="w"> </span><span class="kn">import</span> <span class="n">runopts</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">opts</span> <span class="o">=</span> <span class="n">runopts</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">opts</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;cluster_id&quot;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;cluster to submit the job&quot;</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">opts</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;priority&quot;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="nb">float</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;job priority&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">opts</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;preemptible&quot;</span><span class="p">,</span> <span class="n">type_</span><span class="o">=</span><span class="nb">bool</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;is the job preemptible&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For new schedulers, prefer <a class="reference internal" href="schedulers.html#torchx.schedulers.api.StructuredOpts" title="torchx.schedulers.api.StructuredOpts"><code class="xref py py-class docutils literal notranslate"><span class="pre">StructuredOpts</span></code></a>
which auto-generates <code class="docutils literal notranslate"><span class="pre">runopts</span></code> from typed dataclass fields.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="torchx.specs.runopts.add">
<span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.14)"><span class="pre">Type</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">help</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">required</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/torchx/specs/api.html#runopts.add"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torchx.specs.runopts.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers a config option. Required options must not have a default.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="torchx.specs.runopts.cfg_from_json_repr">
<span class="sig-name descname"><span class="pre">cfg_from_json_repr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">json_repr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/torchx/specs/api.html#runopts.cfg_from_json_repr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torchx.specs.runopts.cfg_from_json_repr" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts the given dict to a valid cfg for this <code class="docutils literal notranslate"><span class="pre">runopts</span></code> object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="torchx.specs.runopts.cfg_from_str">
<span class="sig-name descname"><span class="pre">cfg_from_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg_str</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/torchx/specs/api.html#runopts.cfg_from_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torchx.specs.runopts.cfg_from_str" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses scheduler <code class="docutils literal notranslate"><span class="pre">cfg</span></code> from a string literal and returns
a cfg map where the cfg values have been cast into the appropriate
types as specified by this runopts object. Unknown keys are ignored
and not returned in the resulting map.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Unlike the method <code class="docutils literal notranslate"><span class="pre">resolve</span></code>, this method does NOT resolve
default options or check that the required options are actually
present in the given <code class="docutils literal notranslate"><span class="pre">cfg_str</span></code>. This method is intended to be
called before calling <code class="docutils literal notranslate"><span class="pre">resolve()</span></code> when the input is a string
encoded run cfg. That is to fully resolve the cfg, call
<code class="docutils literal notranslate"><span class="pre">opt.resolve(opt.cfg_from_str(cfg_literal))</span></code>.</p>
</div>
<p>If the <code class="docutils literal notranslate"><span class="pre">cfg_str</span></code> is an empty string, then an empty
<code class="docutils literal notranslate"><span class="pre">cfg</span></code> is returned. Otherwise, at least one kv-pair delimited by
<code class="docutils literal notranslate"><span class="pre">&quot;=&quot;</span></code> (equal) is expected.</p>
<p>Either <code class="docutils literal notranslate"><span class="pre">&quot;,&quot;</span></code> (comma) or <code class="docutils literal notranslate"><span class="pre">&quot;;&quot;</span></code> (semi-colon)
can be used to delimit multiple kv-pairs.</p>
<p><code class="docutils literal notranslate"><span class="pre">CfgVal</span></code> allows <code class="docutils literal notranslate"><span class="pre">List</span></code> of primitives, which can be passed as
either <code class="docutils literal notranslate"><span class="pre">&quot;,&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;;&quot;</span></code> (semi-colon) delimited. Since the same
delimiters are used to delimit between cfg kv pairs, this method
interprets the last (trailing) <code class="docutils literal notranslate"><span class="pre">&quot;,&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;;&quot;</span></code> as the delimiter between
kv pairs. See example below.</p>
<p>Examples:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="go">opts = runopts()</span>
<span class="go">opts.add(&quot;FOO&quot;, type_=List[str], default=[&quot;a&quot;], help=&quot;an optional list option&quot;)</span>
<span class="go">opts.add(&quot;BAR&quot;, type_=str, required=True, help=&quot;a required str option&quot;)</span>

<span class="go"># required and default options not checked</span>
<span class="go"># method returns strictly parsed cfg from the cfg literal string</span>
<span class="go">opts.cfg_from_str(&quot;&quot;) == {}</span>

<span class="go"># however, unknown options are ignored</span>
<span class="go"># since the value type is unknown hence cannot cast to the correct type</span>
<span class="go">opts.cfg_from_str(&quot;UNKNOWN=VALUE&quot;) == {}</span>

<span class="go">opts.cfg_from_str(&quot;FOO=v1&quot;) == {&quot;FOO&quot;: &quot;v1&quot;}</span>

<span class="go">opts.cfg_from_str(&quot;FOO=v1,v2&quot;) == {&quot;FOO&quot;: [&quot;v1&quot;, &quot;v2&quot;]}</span>
<span class="go">opts.cfg_from_str(&quot;FOO=v1;v2&quot;) == {&quot;FOO&quot;: [&quot;v1&quot;, &quot;v2&quot;]}</span>

<span class="go">opts.cfg_from_str(&quot;FOO=v1,v2,BAR=v3&quot;) == {&quot;FOO&quot;: [&quot;v1&quot;, &quot;v2&quot;], &quot;BAR&quot;: &quot;v3&quot;}</span>
<span class="go">opts.cfg_from_str(&quot;FOO=v1;v2,BAR=v3&quot;) == {&quot;FOO&quot;: [&quot;v1&quot;, &quot;v2&quot;], &quot;BAR&quot;: &quot;v3&quot;}</span>
<span class="go">opts.cfg_from_str(&quot;FOO=v1;v2;BAR=v3&quot;) == {&quot;FOO&quot;: [&quot;v1&quot;, &quot;v2&quot;], &quot;BAR&quot;: &quot;v3&quot;}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="torchx.specs.runopts.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#torchx.specs.runopt" title="torchx.specs.api.runopt"><span class="pre">torchx.specs.api.runopt</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/torchx/specs/api.html#runopts.get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torchx.specs.runopts.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the registered option, or <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>Accepts camelCase names (e.g. <code class="docutils literal notranslate"><span class="pre">&quot;clusterName&quot;</span></code> resolves <code class="docutils literal notranslate"><span class="pre">&quot;cluster_name&quot;</span></code>).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="torchx.specs.runopts.is_type">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">tp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.14)"><span class="pre">Type</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span></span><a class="reference internal" href="_modules/torchx/specs/api.html#runopts.is_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torchx.specs.runopts.is_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Like <code class="docutils literal notranslate"><span class="pre">isinstance()</span></code> but supports generic types (e.g. <code class="docutils literal notranslate"><span class="pre">list[str]</span></code>).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="torchx.specs.runopts.resolve">
<span class="sig-name descname"><span class="pre">resolve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Mapping" title="(in Python v3.14)"><span class="pre">Mapping</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/torchx/specs/api.html#runopts.resolve"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torchx.specs.runopts.resolve" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates <code class="docutils literal notranslate"><span class="pre">cfg</span></code> against registered options, filling defaults.</p>
<p>Raises <code class="xref py py-class docutils literal notranslate"><span class="pre">InvalidRunConfigException</span></code> for missing required options
or type mismatches. Accepts camelCase keys.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="torchx.specs.runopt">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torchx.specs.</span></span><span class="sig-name descname"><span class="pre">runopt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">opt_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.14)"><span class="pre">Type</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_required</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">help</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torchx/specs/api.html#runopt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torchx.specs.runopt" title="Permalink to this definition">¶</a></dt>
<dd><p>Metadata for a single scheduler run option.</p>
<dl class="py method">
<dt class="sig sig-object py" id="torchx.specs.runopt.cast_to_type">
<span class="sig-name descname"><span class="pre">cast_to_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/torchx/specs/api.html#runopt.cast_to_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torchx.specs.runopt.cast_to_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Casts the given <cite>value</cite> (in its string representation) to the type of this run option.
Below are the cast rules for each option type and value literal:</p>
<p>1. opt_type=str, value=”foo” -&gt; “foo”
1. opt_type=bool, value=”True”/”False” -&gt; True/False
1. opt_type=int, value=”1” -&gt; 1
1. opt_type=float, value=”1.1” -&gt; 1.1
1. opt_type=list[str]/List[str], value=”a,b,c” or value=”a;b;c” -&gt; [“a”, “b”, “c”]
1. opt_type=dict[str,str]/Dict[str,str], value=”a:1,b:2” or value=”a:1;b:2” -&gt; {“a”: “1”, “b”: “2”}</p>
<p>NOTE: dict parsing uses “:” as the kv separator (rather than the standard “=”) because “=” is used
at the top-level cfg to parse runopts (notice the plural) from the CLI. Originally torchx only supported
primitives and list[str] as CfgVal but dict[str,str] was added in <a class="reference external" href="https://github.com/meta-pytorch/torchx/pull/855">https://github.com/meta-pytorch/torchx/pull/855</a></p>
</dd></dl>

</dd></dl>

<section id="structured-opts">
<h3>Structured Opts<a class="headerlink" href="#structured-opts" title="Permalink to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torchx.schedulers.api.</span></span><span class="sig-name descname"><span class="pre">StructuredOpts</span></span><a class="reference internal" href="_modules/torchx/schedulers/api.html#StructuredOpts"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Base class for typed scheduler configuration options.</p>
<p>Provides a type-safe way to define scheduler run options as dataclass fields
instead of manually building <a class="reference internal" href="#torchx.specs.runopts" title="torchx.specs.runopts"><code class="xref py py-class docutils literal notranslate"><span class="pre">runopts</span></code></a>. Subclasses
should be <code class="docutils literal notranslate"><span class="pre">&#64;dataclass</span></code> decorated with fields representing config options.</p>
<dl class="simple">
<dt>Features:</dt><dd><ul class="simple">
<li><p>Auto-generates <code class="docutils literal notranslate"><span class="pre">runopts</span></code> from dataclass fields via <a class="reference internal" href="schedulers.html#torchx.schedulers.api.StructuredOpts.as_runopts" title="torchx.schedulers.api.StructuredOpts.as_runopts"><code class="xref py py-meth docutils literal notranslate"><span class="pre">as_runopts()</span></code></a></p></li>
<li><p>Parses raw config dicts into typed instances via <a class="reference internal" href="schedulers.html#torchx.schedulers.api.StructuredOpts.from_cfg" title="torchx.schedulers.api.StructuredOpts.from_cfg"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_cfg()</span></code></a></p></li>
<li><p>Supports snake_case field names with camelCase aliases</p></li>
<li><p>Extracts help text from field docstrings</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">dataclasses</span><span class="w"> </span><span class="kn">import</span> <span class="n">dataclass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">torchx.schedulers.api</span><span class="w"> </span><span class="kn">import</span> <span class="n">StructuredOpts</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nd">@dataclass</span>
<span class="gp">... </span><span class="k">class</span><span class="w"> </span><span class="nc">MyOpts</span><span class="p">(</span><span class="n">StructuredOpts</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">cluster_name</span><span class="p">:</span> <span class="nb">str</span>
<span class="gp">... </span><span class="w">    </span><span class="sd">&#39;&#39;&#39;Name of the cluster to submit to.&#39;&#39;&#39;</span>
<span class="gp">...</span>
<span class="gp">... </span>    <span class="n">num_retries</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">... </span><span class="w">    </span><span class="sd">&#39;&#39;&#39;Number of retry attempts.&#39;&#39;&#39;</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Use in scheduler:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># def _run_opts(self) -&gt; runopts:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#     return MyOpts.as_runopts()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># def _submit_dryrun(self, app, cfg):</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#     opts = MyOpts.from_cfg(cfg)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#     # opts.cluster_name, opts.num_retries are typed</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">as_runopts</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#torchx.specs.runopts" title="torchx.specs.api.runopts"><span class="pre">runopts</span></a></span></span><a class="reference internal" href="_modules/torchx/schedulers/api.html#StructuredOpts.as_runopts"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Build <a class="reference internal" href="#torchx.specs.runopts" title="torchx.specs.runopts"><code class="xref py py-class docutils literal notranslate"><span class="pre">runopts</span></code></a> from dataclass fields.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_cfg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Mapping" title="(in Python v3.14)"><span class="pre">Mapping</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Self" title="(in Python v3.14)"><span class="pre">Self</span></a></span></span><a class="reference internal" href="_modules/torchx/schedulers/api.html#StructuredOpts.from_cfg"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Create an instance from a raw config dict.</p>
<p>Fields are snake_case but also accept camelCase aliases (e.g.,
<code class="docutils literal notranslate"><span class="pre">hpc_identity</span></code> can be set via <code class="docutils literal notranslate"><span class="pre">hpcIdentity</span></code>).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">k</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="optional">]</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">D[k]</span> <span class="pre">if</span> <span class="pre">k</span> <span class="pre">in</span> <span class="pre">D,</span> <span class="pre">else</span> <span class="pre">d.</span>&#160; <span class="pre">d</span> <span class="pre">defaults</span> <span class="pre">to</span> <span class="pre">None.</span></span></span><a class="reference internal" href="_modules/torchx/schedulers/api.html#StructuredOpts.get"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
</section>
<section id="run-status">
<h2>Run Status<a class="headerlink" href="#run-status" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="torchx.specs.AppStatus">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torchx.specs.</span></span><span class="sig-name descname"><span class="pre">AppStatus</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state:</span> <span class="pre">~torchx.specs.api.AppState</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_restarts:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">structured_error_msg:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'&lt;NONE&gt;'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ui_url:</span> <span class="pre">str</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">roles:</span> <span class="pre">list[torchx.specs.api.RoleStatus]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torchx/specs/api.html#AppStatus"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torchx.specs.AppStatus" title="Permalink to this definition">¶</a></dt>
<dd><p>Runtime status of an <a class="reference internal" href="#torchx.specs.AppDef" title="torchx.specs.AppDef"><code class="xref py py-class docutils literal notranslate"><span class="pre">AppDef</span></code></a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">roles</span></code> contains replica statuses for the most recent retry only.</p>
<dl class="py method">
<dt class="sig sig-object py" id="torchx.specs.AppStatus.format">
<span class="sig-name descname"><span class="pre">format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filter_roles</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></span><a class="reference internal" href="_modules/torchx/specs/api.html#AppStatus.format"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torchx.specs.AppStatus.format" title="Permalink to this definition">¶</a></dt>
<dd><p>Human-readable status string.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="torchx.specs.AppStatus.raise_for_status">
<span class="sig-name descname"><span class="pre">raise_for_status</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/torchx/specs/api.html#AppStatus.raise_for_status"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torchx.specs.AppStatus.raise_for_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Raises <code class="xref py py-class docutils literal notranslate"><span class="pre">AppStatusError</span></code> if state is not <code class="docutils literal notranslate"><span class="pre">SUCCEEDED</span></code>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="torchx.specs.AppState">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torchx.specs.</span></span><span class="sig-name descname"><span class="pre">AppState</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names=&lt;not</span> <span class="pre">given&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qualname=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">boundary=None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torchx/specs/api.html#AppState"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torchx.specs.AppState" title="Permalink to this definition">¶</a></dt>
<dd><p>State of the application. An application starts from an initial
<code class="docutils literal notranslate"><span class="pre">UNSUBMITTED</span></code> state and moves through <code class="docutils literal notranslate"><span class="pre">SUBMITTED</span></code>, <code class="docutils literal notranslate"><span class="pre">PENDING</span></code>,
<code class="docutils literal notranslate"><span class="pre">RUNNING</span></code> states finally reaching a terminal state:
<code class="docutils literal notranslate"><span class="pre">SUCCEEDED</span></code>,``FAILED``, <code class="docutils literal notranslate"><span class="pre">CANCELLED</span></code>.</p>
<p>If the scheduler supports preemption, the app moves from a <code class="docutils literal notranslate"><span class="pre">RUNNING</span></code>
state to <code class="docutils literal notranslate"><span class="pre">PENDING</span></code> upon preemption.</p>
<p>If the user stops the application, then the application state moves
to <code class="docutils literal notranslate"><span class="pre">STOPPED</span></code>, then to <code class="docutils literal notranslate"><span class="pre">CANCELLED</span></code> when the job is actually cancelled
by the scheduler.</p>
<ol class="arabic simple">
<li><p>UNSUBMITTED - app has not been submitted to the scheduler yet</p></li>
<li><p>SUBMITTED - app has been successfully submitted to the scheduler</p></li>
<li><p>PENDING - app has been submitted to the scheduler pending allocation</p></li>
<li><p>RUNNING - app is running</p></li>
<li><p>SUCCEEDED - app has successfully completed</p></li>
<li><p>FAILED - app has unsuccessfully completed</p></li>
<li><p>CANCELLED - app was cancelled before completing</p></li>
<li><p>UNKNOWN - app state is unknown</p></li>
</ol>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="torchx.specs.ReplicaState">
<span class="sig-prename descclassname"><span class="pre">torchx.specs.</span></span><span class="sig-name descname"><span class="pre">ReplicaState</span></span><a class="headerlink" href="#torchx.specs.ReplicaState" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#torchx.specs.AppState" title="torchx.specs.api.AppState"><code class="xref py py-class docutils literal notranslate"><span class="pre">AppState</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="torchx.specs.AppDryRunInfo">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torchx.specs.</span></span><span class="sig-name descname"><span class="pre">AppDryRunInfo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">T</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fmt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.14)"><span class="pre">Callable</span></a><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">T</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torchx/specs/api.html#AppDryRunInfo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torchx.specs.AppDryRunInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Returned by <a class="reference internal" href="schedulers.html#torchx.schedulers.api.Scheduler.submit_dryrun" title="torchx.schedulers.api.Scheduler.submit_dryrun"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Scheduler.submit_dryrun</span></code></a>.</p>
<p>Wraps the scheduler <code class="docutils literal notranslate"><span class="pre">request</span></code> that <em>would</em> have been submitted.
<code class="docutils literal notranslate"><span class="pre">print(info)</span></code> yields a human-readable representation.</p>
</dd></dl>

</section>
<section id="app-handle">
<h2>App Handle<a class="headerlink" href="#app-handle" title="Permalink to this heading">¶</a></h2>
<dl class="py data">
<dt class="sig sig-object py" id="torchx.specs.AppHandle">
<span class="sig-prename descclassname"><span class="pre">torchx.specs.</span></span><span class="sig-name descname"><span class="pre">AppHandle</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;class</span> <span class="pre">'str'&gt;</span></em><a class="headerlink" href="#torchx.specs.AppHandle" title="Permalink to this definition">¶</a></dt>
<dd><p>str(object=’’) -&gt; str
str(bytes_or_buffer[, encoding[, errors]]) -&gt; str</p>
<p>Create a new string object from the given object. If encoding or
errors is specified, then the object must expose a data buffer
that will be decoded using the given encoding and error handler.
Otherwise, returns the result of object.__str__() (if defined)
or repr(object).
encoding defaults to sys.getdefaultencoding().
errors defaults to ‘strict’.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="torchx.specs.parse_app_handle">
<span class="sig-prename descclassname"><span class="pre">torchx.specs.</span></span><span class="sig-name descname"><span class="pre">parse_app_handle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">app_handle</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#torchx.specs.ParsedAppHandle" title="torchx.specs.api.ParsedAppHandle"><span class="pre">ParsedAppHandle</span></a></span></span><a class="reference internal" href="_modules/torchx/specs/api.html#parse_app_handle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torchx.specs.parse_app_handle" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses <code class="docutils literal notranslate"><span class="pre">{scheduler}://{session_name}/{app_id}</span></code> into its components.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">torchx.specs</span><span class="w"> </span><span class="kn">import</span> <span class="n">parse_app_handle</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parse_app_handle</span><span class="p">(</span><span class="s2">&quot;k8s://default/foo_bar&quot;</span><span class="p">)</span>
<span class="go">ParsedAppHandle(scheduler_backend=&#39;k8s&#39;, session_name=&#39;default&#39;, app_id=&#39;foo_bar&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parse_app_handle</span><span class="p">(</span><span class="s2">&quot;k8s:///foo_bar&quot;</span><span class="p">)</span>
<span class="go">ParsedAppHandle(scheduler_backend=&#39;k8s&#39;, session_name=&#39;&#39;, app_id=&#39;foo_bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="torchx.specs.ParsedAppHandle">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torchx.specs.</span></span><span class="sig-name descname"><span class="pre">ParsedAppHandle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scheduler_backend</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">session_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">app_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torchx/specs/api.html#ParsedAppHandle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torchx.specs.ParsedAppHandle" title="Permalink to this definition">¶</a></dt>
<dd><p>Parsed components of an <a class="reference internal" href="#torchx.specs.AppHandle" title="torchx.specs.AppHandle"><code class="xref py py-data docutils literal notranslate"><span class="pre">AppHandle</span></code></a>.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="torchx.specs.ParsedAppHandle.app_id">
<span class="sig-name descname"><span class="pre">app_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></em><a class="headerlink" href="#torchx.specs.ParsedAppHandle.app_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="torchx.specs.ParsedAppHandle.scheduler_backend">
<span class="sig-name descname"><span class="pre">scheduler_backend</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></em><a class="headerlink" href="#torchx.specs.ParsedAppHandle.scheduler_backend" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="torchx.specs.ParsedAppHandle.session_name">
<span class="sig-name descname"><span class="pre">session_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></em><a class="headerlink" href="#torchx.specs.ParsedAppHandle.session_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

</dd></dl>

</section>
<section id="mounts">
<h2>Mounts<a class="headerlink" href="#mounts" title="Permalink to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="torchx.specs.parse_mounts">
<span class="sig-prename descclassname"><span class="pre">torchx.specs.</span></span><span class="sig-name descname"><span class="pre">parse_mounts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">opts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#torchx.specs.BindMount" title="torchx.specs.api.BindMount"><span class="pre">torchx.specs.api.BindMount</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="#torchx.specs.VolumeMount" title="torchx.specs.api.VolumeMount"><span class="pre">torchx.specs.api.VolumeMount</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="#torchx.specs.DeviceMount" title="torchx.specs.api.DeviceMount"><span class="pre">torchx.specs.api.DeviceMount</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/torchx/specs/builders.html#parse_mounts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torchx.specs.parse_mounts" title="Permalink to this definition">¶</a></dt>
<dd><p>parse_mounts parses a list of options into typed mounts following a similar
format to Dockers bind mount.</p>
<p>Multiple mounts can be specified in the same list. <code class="docutils literal notranslate"><span class="pre">type</span></code> must be
specified first in each.</p>
<dl class="simple">
<dt>Ex:</dt><dd><p>type=bind,src=/host,dst=/container,readonly,[type=bind,src=…,dst=…]</p>
</dd>
<dt>Supported types:</dt><dd><p>BindMount: type=bind,src=&lt;host path&gt;,dst=&lt;container path&gt;[,readonly]
VolumeMount: type=volume,src=&lt;name/id&gt;,dst=&lt;container path&gt;[,readonly]
DeviceMount: type=device,src=/dev/&lt;dev&gt;[,dst=&lt;container path&gt;][,perm=rwm]</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="torchx.specs.BindMount">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torchx.specs.</span></span><span class="sig-name descname"><span class="pre">BindMount</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">read_only</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torchx/specs/api.html#BindMount"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torchx.specs.BindMount" title="Permalink to this definition">¶</a></dt>
<dd><p>Bind-mounts a host path into the worker container.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="torchx.specs.VolumeMount">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torchx.specs.</span></span><span class="sig-name descname"><span class="pre">VolumeMount</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">read_only</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torchx/specs/api.html#VolumeMount"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torchx.specs.VolumeMount" title="Permalink to this definition">¶</a></dt>
<dd><p>Mounts a persistent volume into the worker container.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="torchx.specs.DeviceMount">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torchx.specs.</span></span><span class="sig-name descname"><span class="pre">DeviceMount</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">permissions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'rwm'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torchx/specs/api.html#DeviceMount"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torchx.specs.DeviceMount" title="Permalink to this definition">¶</a></dt>
<dd><p>Mounts a host device into the container.</p>
</dd></dl>

</section>
<section id="module-torchx.specs.overlays">
<span id="overlays"></span><h2>Overlays<a class="headerlink" href="#module-torchx.specs.overlays" title="Permalink to this heading">¶</a></h2>
<p>Overlays patch the scheduler’s submit-job request with fields not representable
in <a class="reference internal" href="#torchx.specs.AppDef" title="torchx.specs.AppDef"><code class="xref py py-class docutils literal notranslate"><span class="pre">AppDef</span></code></a> or <a class="reference internal" href="#torchx.specs.Role" title="torchx.specs.Role"><code class="xref py py-class docutils literal notranslate"><span class="pre">Role</span></code></a>.</p>
<p>Use <a class="reference internal" href="#torchx.specs.overlays.set_overlay" title="torchx.specs.overlays.set_overlay"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_overlay()</span></code></a> / <a class="reference internal" href="#torchx.specs.overlays.get_overlay" title="torchx.specs.overlays.get_overlay"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_overlay()</span></code></a> to store and retrieve overlays,
and <a class="reference internal" href="#torchx.specs.overlays.apply_overlay" title="torchx.specs.overlays.apply_overlay"><code class="xref py py-func docutils literal notranslate"><span class="pre">apply_overlay()</span></code></a> to apply them.</p>
<section id="for-users">
<h3>For Users<a class="headerlink" href="#for-users" title="Permalink to this heading">¶</a></h3>
<p>Use <a class="reference internal" href="#torchx.specs.overlays.set_overlay" title="torchx.specs.overlays.set_overlay"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_overlay()</span></code></a> to attach scheduler-specific fields to a
<a class="reference internal" href="#torchx.specs.Role" title="torchx.specs.Role"><code class="xref py py-class docutils literal notranslate"><span class="pre">Role</span></code></a> or <a class="reference internal" href="#torchx.specs.AppDef" title="torchx.specs.AppDef"><code class="xref py py-class docutils literal notranslate"><span class="pre">AppDef</span></code></a>:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">torchx.specs</span><span class="w"> </span><span class="kn">import</span> <span class="n">Role</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">torchx.specs.overlays</span><span class="w"> </span><span class="kn">import</span> <span class="n">set_overlay</span><span class="p">,</span> <span class="n">get_overlay</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Kubernetes: add a node selector to a role</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">role</span> <span class="o">=</span> <span class="n">Role</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;trainer&quot;</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="s2">&quot;my-image&quot;</span><span class="p">,</span> <span class="n">entrypoint</span><span class="o">=</span><span class="s2">&quot;train.py&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">set_overlay</span><span class="p">(</span><span class="n">role</span><span class="p">,</span> <span class="s2">&quot;kubernetes&quot;</span><span class="p">,</span> <span class="s2">&quot;V1Pod&quot;</span><span class="p">,</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;spec&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;nodeSelector&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;accelerator&quot;</span><span class="p">:</span> <span class="s2">&quot;a100&quot;</span><span class="p">}},</span>
<span class="gp">... </span><span class="p">})</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Multiple set_overlay calls merge (dicts upsert, lists append)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">set_overlay</span><span class="p">(</span><span class="n">role</span><span class="p">,</span> <span class="s2">&quot;kubernetes&quot;</span><span class="p">,</span> <span class="s2">&quot;V1Pod&quot;</span><span class="p">,</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;spec&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;tolerations&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s2">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;gpu&quot;</span><span class="p">,</span> <span class="s2">&quot;operator&quot;</span><span class="p">:</span> <span class="s2">&quot;Exists&quot;</span><span class="p">}]},</span>
<span class="gp">... </span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_overlay</span><span class="p">(</span><span class="n">role</span><span class="p">,</span> <span class="s2">&quot;kubernetes&quot;</span><span class="p">,</span> <span class="s2">&quot;V1Pod&quot;</span><span class="p">)</span>
<span class="go">{&#39;spec&#39;: {&#39;nodeSelector&#39;: {&#39;accelerator&#39;: &#39;a100&#39;}, &#39;tolerations&#39;: [{&#39;key&#39;: &#39;gpu&#39;, &#39;operator&#39;: &#39;Exists&#39;}]}}</span>
</pre></div>
</div>
<section id="operators">
<h4>Operators<a class="headerlink" href="#operators" title="Permalink to this heading">¶</a></h4>
<p>By default, <a class="reference internal" href="#torchx.specs.overlays.set_overlay" title="torchx.specs.overlays.set_overlay"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_overlay()</span></code></a> merges dicts and appends lists. Use
<a class="reference internal" href="#torchx.specs.overlays.PUT" title="torchx.specs.overlays.PUT"><code class="xref py py-func docutils literal notranslate"><span class="pre">PUT()</span></code></a>, <a class="reference internal" href="#torchx.specs.overlays.JOIN" title="torchx.specs.overlays.JOIN"><code class="xref py py-func docutils literal notranslate"><span class="pre">JOIN()</span></code></a>, and <a class="reference internal" href="#torchx.specs.overlays.DEL" title="torchx.specs.overlays.DEL"><code class="xref py py-func docutils literal notranslate"><span class="pre">DEL()</span></code></a> as dict keys to override
per-field behavior:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">torchx.specs</span><span class="w"> </span><span class="kn">import</span> <span class="n">Role</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">torchx.specs.overlays</span><span class="w"> </span><span class="kn">import</span> <span class="n">set_overlay</span><span class="p">,</span> <span class="n">PUT</span><span class="p">,</span> <span class="n">JOIN</span><span class="p">,</span> <span class="n">DEL</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">role</span> <span class="o">=</span> <span class="n">Role</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;trainer&quot;</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="s2">&quot;my-image&quot;</span><span class="p">,</span> <span class="n">entrypoint</span><span class="o">=</span><span class="s2">&quot;train.py&quot;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># PUT: replace a list instead of appending</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">set_overlay</span><span class="p">(</span><span class="n">role</span><span class="p">,</span> <span class="s2">&quot;kubernetes&quot;</span><span class="p">,</span> <span class="s2">&quot;V1Pod&quot;</span><span class="p">,</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;spec&quot;</span><span class="p">:</span> <span class="p">{</span><span class="n">PUT</span><span class="p">(</span><span class="s2">&quot;containers&quot;</span><span class="p">):</span> <span class="p">[{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;only&quot;</span><span class="p">}]},</span>
<span class="gp">... </span><span class="p">})</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># JOIN: strategic merge list items by key field</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">set_overlay</span><span class="p">(</span><span class="n">role</span><span class="p">,</span> <span class="s2">&quot;kubernetes&quot;</span><span class="p">,</span> <span class="s2">&quot;V1Pod&quot;</span><span class="p">,</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;spec&quot;</span><span class="p">:</span> <span class="p">{</span><span class="n">JOIN</span><span class="p">(</span><span class="s2">&quot;initContainers&quot;</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s2">&quot;name&quot;</span><span class="p">):</span> <span class="p">[</span>
<span class="gp">... </span>        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;setup&quot;</span><span class="p">,</span> <span class="s2">&quot;image&quot;</span><span class="p">:</span> <span class="s2">&quot;init:v2&quot;</span><span class="p">},</span>
<span class="gp">... </span>    <span class="p">]},</span>
<span class="gp">... </span><span class="p">})</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># DEL: remove a field (server uses its default)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">set_overlay</span><span class="p">(</span><span class="n">role</span><span class="p">,</span> <span class="s2">&quot;kubernetes&quot;</span><span class="p">,</span> <span class="s2">&quot;V1Pod&quot;</span><span class="p">,</span> <span class="p">{</span><span class="n">DEL</span><span class="p">(</span><span class="s2">&quot;hostNetwork&quot;</span><span class="p">):</span> <span class="kc">None</span><span class="p">})</span>
</pre></div>
</div>
<p>Operators are stored in metadata and resolved automatically when the scheduler
calls <a class="reference internal" href="#torchx.specs.overlays.apply_overlay" title="torchx.specs.overlays.apply_overlay"><code class="xref py py-func docutils literal notranslate"><span class="pre">apply_overlay()</span></code></a> at submit time — users don’t need to call
<a class="reference internal" href="#torchx.specs.overlays.apply_overlay" title="torchx.specs.overlays.apply_overlay"><code class="xref py py-func docutils literal notranslate"><span class="pre">apply_overlay()</span></code></a> directly.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">None</span></code> vs <code class="docutils literal notranslate"><span class="pre">DEL</span></code> vs missing key</p>
<p>These three states produce different results:</p>
<ul class="simple">
<li><p><strong>Key missing from overlay</strong>: field is untouched in the base</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;field&quot;:</span> <span class="pre">None</span></code>: field is explicitly set to <code class="docutils literal notranslate"><span class="pre">None</span></code>/null. In
thrift/protobuf, this means “field present but null” — different from
key is missing (never set).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DEL(&quot;field&quot;):</span> <span class="pre">None</span></code>: field is <strong>removed</strong> from the base dict. In
thrift/protobuf, this means “field not sent in request”.</p></li>
</ul>
</div>
</section>
</section>
<section id="for-scheduler-implementors">
<h3>For Scheduler Implementors<a class="headerlink" href="#for-scheduler-implementors" title="Permalink to this heading">¶</a></h3>
<p>To add overlay support to a scheduler, use <a class="reference internal" href="#torchx.specs.overlays.get_overlay" title="torchx.specs.overlays.get_overlay"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_overlay()</span></code></a> to retrieve
stored overlays, <a class="reference internal" href="#torchx.specs.overlays.validate_overlay" title="torchx.specs.overlays.validate_overlay"><code class="xref py py-func docutils literal notranslate"><span class="pre">validate_overlay()</span></code></a> to guard against user error, and
<a class="reference internal" href="#torchx.specs.overlays.apply_overlay" title="torchx.specs.overlays.apply_overlay"><code class="xref py py-func docutils literal notranslate"><span class="pre">apply_overlay()</span></code></a> to apply the overlay onto the scheduler’s base request dict.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">torchx.specs.overlays</span><span class="w"> </span><span class="kn">import</span> <span class="n">apply_overlay</span><span class="p">,</span> <span class="n">get_overlay</span><span class="p">,</span> <span class="n">validate_overlay</span>

<span class="k">class</span><span class="w"> </span><span class="nc">MyScheduler</span><span class="p">(</span><span class="n">Scheduler</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_submit_dryrun</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">app</span><span class="p">,</span> <span class="n">cfg</span><span class="p">):</span>
        <span class="c1"># Build base request from Role attributes</span>
        <span class="n">base_request</span> <span class="o">=</span> <span class="n">build_request_from_role</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">roles</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

        <span class="c1"># Retrieve and validate the overlay</span>
        <span class="n">overlay</span> <span class="o">=</span> <span class="n">get_overlay</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">roles</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s2">&quot;my_scheduler&quot;</span><span class="p">,</span> <span class="s2">&quot;JobSpec&quot;</span><span class="p">)</span>
        <span class="n">validate_overlay</span><span class="p">(</span>
            <span class="n">overlay</span><span class="p">,</span>
            <span class="n">blocklist</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;command&quot;</span><span class="p">,</span> <span class="s2">&quot;env&quot;</span><span class="p">],</span>  <span class="c1"># fields set via Role attrs</span>
            <span class="n">overlay_name</span><span class="o">=</span><span class="s2">&quot;JobSpec&quot;</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># Apply overlay onto the base request</span>
        <span class="n">apply_overlay</span><span class="p">(</span><span class="n">base_request</span><span class="p">,</span> <span class="n">overlay</span><span class="p">)</span>

        <span class="c1"># base_request now has user&#39;s overlay fields merged in</span>
        <span class="k">return</span> <span class="n">base_request</span>
</pre></div>
</div>
<p><a class="reference internal" href="#torchx.specs.overlays.apply_overlay" title="torchx.specs.overlays.apply_overlay"><code class="xref py py-func docutils literal notranslate"><span class="pre">apply_overlay()</span></code></a> handles operator keys (<a class="reference internal" href="#torchx.specs.overlays.PUT" title="torchx.specs.overlays.PUT"><code class="xref py py-func docutils literal notranslate"><span class="pre">PUT()</span></code></a>, <a class="reference internal" href="#torchx.specs.overlays.JOIN" title="torchx.specs.overlays.JOIN"><code class="xref py py-func docutils literal notranslate"><span class="pre">JOIN()</span></code></a>,
<a class="reference internal" href="#torchx.specs.overlays.DEL" title="torchx.specs.overlays.DEL"><code class="xref py py-func docutils literal notranslate"><span class="pre">DEL()</span></code></a>) automatically — the scheduler doesn’t need to know about them.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="torchx.specs.overlays.DEL">
<span class="sig-prename descclassname"><span class="pre">torchx.specs.overlays.</span></span><span class="sig-name descname"><span class="pre">DEL</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></span><a class="reference internal" href="_modules/torchx/specs/overlays.html#DEL"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torchx.specs.overlays.DEL" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a key from the base dict.</p>
<p>Use as a dict key in overlays. The value is ignored (convention: <code class="docutils literal notranslate"><span class="pre">None</span></code>).</p>
<p>This is different from setting a field to <code class="docutils literal notranslate"><span class="pre">None</span></code> — <code class="docutils literal notranslate"><span class="pre">DEL</span></code> removes the key
entirely (thrift/protobuf: field not sent, server uses default), while
<code class="docutils literal notranslate"><span class="pre">&quot;field&quot;:</span> <span class="pre">None</span></code> sets it to null (thrift/protobuf: field present but null).</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">torchx.specs.overlays</span><span class="w"> </span><span class="kn">import</span> <span class="n">apply_overlay</span><span class="p">,</span> <span class="n">DEL</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">base</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;keep&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;remove_me&quot;</span><span class="p">:</span> <span class="s2">&quot;old&quot;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">apply_overlay</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="p">{</span><span class="n">DEL</span><span class="p">(</span><span class="s2">&quot;remove_me&quot;</span><span class="p">):</span> <span class="kc">None</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">base</span>
<span class="go">{&#39;keep&#39;: 1}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="torchx.specs.overlays.JOIN">
<span class="sig-prename descclassname"><span class="pre">torchx.specs.overlays.</span></span><span class="sig-name descname"><span class="pre">JOIN</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">on</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></span><a class="reference internal" href="_modules/torchx/specs/overlays.html#JOIN"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torchx.specs.overlays.JOIN" title="Permalink to this definition">¶</a></dt>
<dd><p>Strategic merge list items by key field.</p>
<p>Matched items (same value for <code class="docutils literal notranslate"><span class="pre">on</span></code> field) have their fields merged.
Unmatched items are appended. Use as a dict key in overlays.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">torchx.specs.overlays</span><span class="w"> </span><span class="kn">import</span> <span class="n">apply_overlay</span><span class="p">,</span> <span class="n">JOIN</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">base</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;containers&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;main&quot;</span><span class="p">,</span> <span class="s2">&quot;image&quot;</span><span class="p">:</span> <span class="s2">&quot;v1&quot;</span><span class="p">,</span> <span class="s2">&quot;cpu&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">}]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">apply_overlay</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="p">{</span><span class="n">JOIN</span><span class="p">(</span><span class="s2">&quot;containers&quot;</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s2">&quot;name&quot;</span><span class="p">):</span> <span class="p">[</span>
<span class="gp">... </span>    <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;main&quot;</span><span class="p">,</span> <span class="s2">&quot;memory&quot;</span><span class="p">:</span> <span class="s2">&quot;1Gi&quot;</span><span class="p">},</span>
<span class="gp">... </span>    <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;sidecar&quot;</span><span class="p">,</span> <span class="s2">&quot;image&quot;</span><span class="p">:</span> <span class="s2">&quot;proxy&quot;</span><span class="p">},</span>
<span class="gp">... </span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">base</span>
<span class="go">{&#39;containers&#39;: [{&#39;name&#39;: &#39;main&#39;, &#39;image&#39;: &#39;v1&#39;, &#39;cpu&#39;: &#39;1&#39;, &#39;memory&#39;: &#39;1Gi&#39;}, {&#39;name&#39;: &#39;sidecar&#39;, &#39;image&#39;: &#39;proxy&#39;}]}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.14)"><strong>TypeError</strong></a> – At apply time, if the base list contains non-dict items.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="torchx.specs.overlays.PUT">
<span class="sig-prename descclassname"><span class="pre">torchx.specs.overlays.</span></span><span class="sig-name descname"><span class="pre">PUT</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></span><a class="reference internal" href="_modules/torchx/specs/overlays.html#PUT"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torchx.specs.overlays.PUT" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace a value entirely instead of merging/appending.</p>
<p>Use as a dict key in overlays. For lists this replaces instead of appending;
for dicts this replaces instead of recursive merge.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">torchx.specs.overlays</span><span class="w"> </span><span class="kn">import</span> <span class="n">apply_overlay</span><span class="p">,</span> <span class="n">PUT</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">base</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;containers&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;old1&quot;</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;old2&quot;</span><span class="p">}]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">apply_overlay</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="p">{</span><span class="n">PUT</span><span class="p">(</span><span class="s2">&quot;containers&quot;</span><span class="p">):</span> <span class="p">[{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;only&quot;</span><span class="p">}]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">base</span>
<span class="go">{&#39;containers&#39;: [{&#39;name&#39;: &#39;only&#39;}]}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="torchx.specs.overlays.apply_overlay">
<span class="sig-prename descclassname"><span class="pre">torchx.specs.overlays.</span></span><span class="sig-name descname"><span class="pre">apply_overlay</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overlay</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_resolve</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/torchx/specs/overlays.html#apply_overlay"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torchx.specs.overlays.apply_overlay" title="Permalink to this definition">¶</a></dt>
<dd><p>Merge <code class="docutils literal notranslate"><span class="pre">overlay</span></code> into <code class="docutils literal notranslate"><span class="pre">base</span></code> in-place.</p>
<p>Default rules:</p>
<ol class="arabic simple">
<li><p><strong>dict</strong> → recursive merge (upsert keys)</p></li>
<li><p><strong>list</strong> → append overlay items</p></li>
<li><p><strong>primitive</strong> → overwrite value</p></li>
</ol>
<p>Operators (use as dict keys in overlays):</p>
<ol class="arabic simple" start="4">
<li><p><a class="reference internal" href="#torchx.specs.overlays.PUT" title="torchx.specs.overlays.PUT"><code class="xref py py-func docutils literal notranslate"><span class="pre">PUT()</span></code></a> → replace value entirely (lists, dicts, or primitives)</p></li>
<li><p><a class="reference internal" href="#torchx.specs.overlays.JOIN" title="torchx.specs.overlays.JOIN"><code class="xref py py-func docutils literal notranslate"><span class="pre">JOIN()</span></code></a> → strategic merge list items by key field</p></li>
<li><p><a class="reference internal" href="#torchx.specs.overlays.DEL" title="torchx.specs.overlays.DEL"><code class="xref py py-func docutils literal notranslate"><span class="pre">DEL()</span></code></a> → remove key from base</p></li>
</ol>
<p>During accumulation (multiple <a class="reference internal" href="#torchx.specs.overlays.set_overlay" title="torchx.specs.overlays.set_overlay"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_overlay()</span></code></a> calls), operators for
the same field replace earlier operations — last call wins.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">torchx.specs.overlays</span><span class="w"> </span><span class="kn">import</span> <span class="n">apply_overlay</span><span class="p">,</span> <span class="n">PUT</span><span class="p">,</span> <span class="n">JOIN</span><span class="p">,</span> <span class="n">DEL</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Dicts merge recursively, lists append, primitives overwrite</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">base</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;spec&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;cpu&quot;</span><span class="p">:</span> <span class="s2">&quot;500m&quot;</span><span class="p">},</span> <span class="s2">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;prod&quot;</span><span class="p">],</span> <span class="s2">&quot;replicas&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">apply_overlay</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;spec&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;memory&quot;</span><span class="p">:</span> <span class="s2">&quot;1Gi&quot;</span><span class="p">},</span> <span class="s2">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;gpu&quot;</span><span class="p">],</span> <span class="s2">&quot;replicas&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">base</span>
<span class="go">{&#39;spec&#39;: {&#39;cpu&#39;: &#39;500m&#39;, &#39;memory&#39;: &#39;1Gi&#39;}, &#39;tags&#39;: [&#39;prod&#39;, &#39;gpu&#39;], &#39;replicas&#39;: 3}</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># PUT replaces a list instead of appending</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">base</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;containers&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;old1&quot;</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;old2&quot;</span><span class="p">}]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">apply_overlay</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="p">{</span><span class="n">PUT</span><span class="p">(</span><span class="s2">&quot;containers&quot;</span><span class="p">):</span> <span class="p">[{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;only&quot;</span><span class="p">}]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">base</span>
<span class="go">{&#39;containers&#39;: [{&#39;name&#39;: &#39;only&#39;}]}</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># JOIN: match containers by name, merge their fields</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">base</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;containers&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;main&quot;</span><span class="p">,</span> <span class="s2">&quot;image&quot;</span><span class="p">:</span> <span class="s2">&quot;v1&quot;</span><span class="p">}]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">apply_overlay</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="p">{</span><span class="n">JOIN</span><span class="p">(</span><span class="s2">&quot;containers&quot;</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s2">&quot;name&quot;</span><span class="p">):</span> <span class="p">[</span>
<span class="gp">... </span>    <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;main&quot;</span><span class="p">,</span> <span class="s2">&quot;memory&quot;</span><span class="p">:</span> <span class="s2">&quot;1Gi&quot;</span><span class="p">},</span>
<span class="gp">... </span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">base</span>
<span class="go">{&#39;containers&#39;: [{&#39;name&#39;: &#39;main&#39;, &#39;image&#39;: &#39;v1&#39;, &#39;memory&#39;: &#39;1Gi&#39;}]}</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># DEL: remove a key from the base</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">base</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;keep&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;remove&quot;</span><span class="p">:</span> <span class="s2">&quot;old&quot;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">apply_overlay</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="p">{</span><span class="n">DEL</span><span class="p">(</span><span class="s2">&quot;remove&quot;</span><span class="p">):</span> <span class="kc">None</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">base</span>
<span class="go">{&#39;keep&#39;: 1}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>_resolve</strong> – <strong>Internal only</strong> — do not pass. When <code class="docutils literal notranslate"><span class="pre">True</span></code> (default),
operator keys resolve to their operations on plain field names.
When <code class="docutils literal notranslate"><span class="pre">False</span></code>, operator keys are stored as-is (used by
<a class="reference internal" href="#torchx.specs.overlays.set_overlay" title="torchx.specs.overlays.set_overlay"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_overlay()</span></code></a> for accumulation).</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="torchx.specs.overlays.get_overlay">
<span class="sig-prename descclassname"><span class="pre">torchx.specs.overlays.</span></span><span class="sig-name descname"><span class="pre">get_overlay</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#torchx.specs.AppDef" title="torchx.specs.AppDef"><span class="pre">AppDef</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="#torchx.specs.Role" title="torchx.specs.Role"><span class="pre">Role</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">namespace</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">kind</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">_Overlay</span></span></span><a class="reference internal" href="_modules/torchx/specs/overlays.html#get_overlay"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torchx.specs.overlays.get_overlay" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve overlay from <code class="docutils literal notranslate"><span class="pre">target.metadata[namespace][kind]</span></code>.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">{}</span></code> if not found. If <code class="docutils literal notranslate"><span class="pre">metadata[namespace]</span></code> is a string,
it is loaded as a file URI via <code class="docutils literal notranslate"><span class="pre">fsspec</span></code> (JSON or YAML).</p>
<p>For backwards compatibility, if <code class="docutils literal notranslate"><span class="pre">kind</span></code> is not a key in
<code class="docutils literal notranslate"><span class="pre">metadata[namespace]</span></code>, the entire namespace dict is returned as a
flat overlay (with a deprecation warning).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="torchx.specs.overlays.set_overlay">
<span class="sig-prename descclassname"><span class="pre">torchx.specs.overlays.</span></span><span class="sig-name descname"><span class="pre">set_overlay</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#torchx.specs.AppDef" title="torchx.specs.AppDef"><span class="pre">AppDef</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="#torchx.specs.Role" title="torchx.specs.Role"><span class="pre">Role</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">namespace</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">kind</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">overlay</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_Overlay</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/torchx/specs/overlays.html#set_overlay"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torchx.specs.overlays.set_overlay" title="Permalink to this definition">¶</a></dt>
<dd><p>Store an overlay in <code class="docutils literal notranslate"><span class="pre">target.metadata[namespace][kind]</span></code>.</p>
<p>Multiple calls for the same <code class="docutils literal notranslate"><span class="pre">(namespace,</span> <span class="pre">kind)</span></code> accumulate via
<a class="reference internal" href="#torchx.specs.overlays.apply_overlay" title="torchx.specs.overlays.apply_overlay"><code class="xref py py-func docutils literal notranslate"><span class="pre">apply_overlay()</span></code></a> (dicts merge, lists append). Use <a class="reference internal" href="#torchx.specs.overlays.PUT" title="torchx.specs.overlays.PUT"><code class="xref py py-func docutils literal notranslate"><span class="pre">PUT()</span></code></a>,
<a class="reference internal" href="#torchx.specs.overlays.JOIN" title="torchx.specs.overlays.JOIN"><code class="xref py py-func docutils literal notranslate"><span class="pre">JOIN()</span></code></a>, and <a class="reference internal" href="#torchx.specs.overlays.DEL" title="torchx.specs.overlays.DEL"><code class="xref py py-func docutils literal notranslate"><span class="pre">DEL()</span></code></a> operators in the overlay dict to
control per-field behavior.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>namespace</strong> – Scheduler namespace (e.g., <code class="docutils literal notranslate"><span class="pre">&quot;kubernetes&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;mast&quot;</span></code>).</p></li>
<li><p><strong>kind</strong> – Scheduler struct type (e.g., <code class="docutils literal notranslate"><span class="pre">&quot;V1Pod&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;HpcJobDefinition&quot;</span></code>).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="torchx.specs.overlays.validate_overlay">
<span class="sig-prename descclassname"><span class="pre">torchx.specs.overlays.</span></span><span class="sig-name descname"><span class="pre">validate_overlay</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">overlay</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blocklist</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">forbidden_keys</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.14)"><span class="pre">set</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overlay_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'overlay'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suggestion</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span></span><a class="reference internal" href="_modules/torchx/specs/overlays.html#validate_overlay"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torchx.specs.overlays.validate_overlay" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate that overlay doesn’t contain disallowed keys.</p>
<p>Used by scheduler authors to guard against user error. Operator-prefixed
keys (e.g., <code class="docutils literal notranslate"><span class="pre">PUT(&quot;env&quot;)</span></code>) are resolved to their logical field name
before checking against the blocklist.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>blocklist</strong> – Keys that should be set via Role/AppDef attributes.</p></li>
<li><p><strong>forbidden_keys</strong> – Keys that belong to a different overlay type.</p></li>
<li><p><strong>overlay_name</strong> – Overlay type name for error messages.</p></li>
<li><p><strong>suggestion</strong> – Hint appended when <code class="docutils literal notranslate"><span class="pre">forbidden_keys</span></code> are found.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.14)"><strong>ValueError</strong></a> – If validation fails.</p>
</dd>
</dl>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">torchx.specs.overlays</span><span class="w"> </span><span class="kn">import</span> <span class="n">validate_overlay</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># &quot;env&quot; is blocklisted — should be set via Role.env</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">validate_overlay</span><span class="p">(</span>
<span class="gp">... </span>        <span class="p">{</span><span class="s2">&quot;env&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;FOO&quot;</span><span class="p">:</span> <span class="s2">&quot;bar&quot;</span><span class="p">},</span> <span class="s2">&quot;nodeSelector&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;gpu&quot;</span><span class="p">:</span> <span class="s2">&quot;true&quot;</span><span class="p">}},</span>
<span class="gp">... </span>        <span class="n">blocklist</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;env&quot;</span><span class="p">,</span> <span class="s2">&quot;command&quot;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="n">overlay_name</span><span class="o">=</span><span class="s2">&quot;PodSpec&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<span class="gp">... </span>    <span class="s2">&quot;env&quot;</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="named-resources">
<h2>Named Resources<a class="headerlink" href="#named-resources" title="Permalink to this heading">¶</a></h2>
<p>Use <code class="xref py py-func docutils literal notranslate"><span class="pre">resource()</span></code> with the <code class="docutils literal notranslate"><span class="pre">h</span></code> parameter to look up a named resource:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">torchx.specs</span><span class="w"> </span><span class="kn">import</span> <span class="n">resource</span>
<span class="n">resource</span><span class="p">(</span><span class="n">h</span><span class="o">=</span><span class="s2">&quot;gpu.small&quot;</span><span class="p">)</span>   <span class="c1"># generic t-shirt size</span>
<span class="n">resource</span><span class="p">(</span><span class="n">h</span><span class="o">=</span><span class="s2">&quot;aws_p3.2xlarge&quot;</span><span class="p">)</span>  <span class="c1"># AWS instance type</span>
</pre></div>
</div>
<p>See <a class="reference internal" href="advanced.html#registering-named-resources"><span class="std std-ref">Registering Named Resources</span></a> for defining custom named
resources.</p>
<section id="module-torchx.specs.named_resources_generic">
<span id="generic-named-resources"></span><h3>Generic Named Resources<a class="headerlink" href="#module-torchx.specs.named_resources_generic" title="Permalink to this heading">¶</a></h3>
<p>Defines generic named resources that are not specific to any cloud provider’s
instance types. These generic named resources are meant to be used as
default values for components and examples and are NOT meant to be used
long term as the specific capabilities (e.g. number of cpu, gpu, memMB)
are subject to change.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>T
he named resources in this file DO NOT map device capabilities such as
special network interfaces (e.g. EFA devices on AWS).</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Do not use for launching applications that require specific capabilities
(e.g. needs exactly 4 x A100 GPUs with 40GB of memory connected with NVLink).</p>
</div>
<p>Different cloud provides offer different types of
instance types hence practically speaking one should register their own
named resources that accurately capture the instances they have at their disposal
rather than using these defaults long term.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The cpu/gpu/memory ratios in these default resources are based on current
HW trends and do not map exactly to a particular instance type!</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The specific capabilities of these default resources are subject to change
at any time based on current hardware spec trends.
Therefore, the user should NEVER assume that the specific number of cpu, gpu, and memMB
will always remain the same. For instance, never assume that <code class="docutils literal notranslate"><span class="pre">gpu.small</span></code> will always
have 8 cpus.</p>
</div>
<p>These are cloud-agnostic, t-shirt-sized defaults. The exact cpu/gpu/memory
values may change between releases – define your own named resources for
production workloads.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 36.4%" />
<col style="width: 18.2%" />
<col style="width: 18.2%" />
<col style="width: 27.3%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>CPU</p></th>
<th class="head"><p>GPU</p></th>
<th class="head"><p>Memory</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">gpu.small</span></code></p></td>
<td><p>8</p></td>
<td><p>1</p></td>
<td><p>32 GiB</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">gpu.medium</span></code></p></td>
<td><p>16</p></td>
<td><p>2</p></td>
<td><p>64 GiB</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">gpu.large</span></code></p></td>
<td><p>32</p></td>
<td><p>4</p></td>
<td><p>128 GiB</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">gpu.xlarge</span></code></p></td>
<td><p>64</p></td>
<td><p>8</p></td>
<td><p>256 GiB</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">cpu.nano</span></code></p></td>
<td><p>1</p></td>
<td><p>0</p></td>
<td><p>512 MiB</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">cpu.micro</span></code></p></td>
<td><p>1</p></td>
<td><p>0</p></td>
<td><p>1 GiB</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">cpu.small</span></code></p></td>
<td><p>1</p></td>
<td><p>0</p></td>
<td><p>2 GiB</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">cpu.medium</span></code></p></td>
<td><p>2</p></td>
<td><p>0</p></td>
<td><p>4 GiB</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">cpu.large</span></code></p></td>
<td><p>2</p></td>
<td><p>0</p></td>
<td><p>8 GiB</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">cpu.xlarge</span></code></p></td>
<td><p>8</p></td>
<td><p>0</p></td>
<td><p>32 GiB</p></td>
</tr>
</tbody>
</table>
</section>
<section id="module-torchx.specs.named_resources_aws">
<span id="aws-named-resources"></span><h3>AWS Named Resources<a class="headerlink" href="#module-torchx.specs.named_resources_aws" title="Permalink to this heading">¶</a></h3>
<p><cite>torchx.specs.named_resources_aws</cite> contains resource definitions that represent corresponding AWS instance types
taken from <a class="reference external" href="https://aws.amazon.com/ec2/instance-types/">https://aws.amazon.com/ec2/instance-types/</a>. The resources are exposed
via entrypoints after installing torchx lib. The mapping is stored in the <cite>setup.py</cite> file.</p>
<p>The named resources currently do not specify AWS instance type capabilities but merely represent
the equvalent resource in mem, cpu and gpu numbers.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>These resource definitions may change in future. It is expected for each user to
manage their own resources. Follow <a class="reference external" href="https://meta-pytorch.org/torchx/latest/specs.html#torchx.specs.get_named_resources">https://meta-pytorch.org/torchx/latest/specs.html#torchx.specs.get_named_resources</a>
to set up named resources.</p>
</div>
<p>Usage:</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">torchx.specs</span><span class="w"> </span><span class="kn">import</span> <span class="n">named_resources</span>
<span class="nb">print</span><span class="p">(</span><span class="n">named_resources</span><span class="p">[</span><span class="s2">&quot;aws_t3.medium&quot;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">named_resources</span><span class="p">[</span><span class="s2">&quot;aws_m5.2xlarge&quot;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">named_resources</span><span class="p">[</span><span class="s2">&quot;aws_p3.2xlarge&quot;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">named_resources</span><span class="p">[</span><span class="s2">&quot;aws_p3.8xlarge&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div></blockquote>
</section>
</section>
<section id="module-torchx.specs.file_linter">
<span id="component-linter"></span><h2>Component Linter<a class="headerlink" href="#module-torchx.specs.file_linter" title="Permalink to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="torchx.specs.file_linter.validate">
<span class="sig-prename descclassname"><span class="pre">torchx.specs.file_linter.</span></span><span class="sig-name descname"><span class="pre">validate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">component_function</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">validators</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><span class="pre">torchx.specs.file_linter.ComponentFunctionValidator</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#torchx.specs.file_linter.LinterMessage" title="torchx.specs.file_linter.LinterMessage"><span class="pre">torchx.specs.file_linter.LinterMessage</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/torchx/specs/file_linter.html#validate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torchx.specs.file_linter.validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates the function to make sure it complies the component standard.</p>
<p><code class="docutils literal notranslate"><span class="pre">validate</span></code> finds the <code class="docutils literal notranslate"><span class="pre">component_function</span></code> and vaidates it for according to the following rules:</p>
<ol class="arabic simple">
<li><p>The function must have <a class="reference external" href="https://sphinxcontrib-napoleon.readthedocs.io/en/latest/example_google.html">google-styple docs</a></p></li>
<li><p>All function parameters must be annotated</p></li>
<li><p>The function must return <a class="reference internal" href="#torchx.specs.AppDef" title="torchx.specs.api.AppDef"><code class="xref py py-class docutils literal notranslate"><span class="pre">torchx.specs.api.AppDef</span></code></a></p></li>
</ol>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – Path to python source file.</p></li>
<li><p><strong>component_function</strong> – Name of the function to be validated.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of validation errors</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[<a class="reference internal" href="#torchx.specs.file_linter.LinterMessage" title="torchx.specs.file_linter.LinterMessage">LinterMessage</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="torchx.specs.file_linter.get_fn_docstring">
<span class="sig-prename descclassname"><span class="pre">torchx.specs.file_linter.</span></span><span class="sig-name descname"><span class="pre">get_fn_docstring</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fn</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.14)"><span class="pre">Callable</span></a><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.14)"><span class="pre">object</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/torchx/specs/file_linter.html#get_fn_docstring"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torchx.specs.file_linter.get_fn_docstring" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses the function and arguments description from the provided function. Docstring should be in
<a class="reference external" href="https://sphinxcontrib-napoleon.readthedocs.io/en/latest/example_google.html">google-style format</a></p>
<p>If function has no docstring, the function description will be the name of the function, TIP
on how to improve the help message and arguments descriptions will be names of the arguments.</p>
<p>The arguments that are not present in the docstring will contain default/required information</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>fn</strong> – Function with or without docstring</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>function description, arguments description where key is the name of the argument and value</dt><dd><p>if the description</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="torchx.specs.file_linter.LinterMessage">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torchx.specs.file_linter.</span></span><span class="sig-name descname"><span class="pre">LinterMessage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">line</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">char</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">severity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'error'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/torchx/specs/file_linter.html#LinterMessage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torchx.specs.file_linter.LinterMessage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="api_reference.html"><span class="doc">Quick Reference</span></a></dt><dd><p>Single-page reference with imports, types, and copy-pasteable recipes.</p>
</dd>
<dt><a class="reference internal" href="runner.html"><span class="doc">torchx.runner</span></a></dt><dd><p>The Runner API that submits AppDefs as jobs.</p>
</dd>
<dt><a class="reference internal" href="advanced.html"><span class="doc">Advanced Usage</span></a></dt><dd><p>Registering named resources, custom components, and other plugins.</p>
</dd>
</dl>
</div>
</section>
</section>


     </article>
     
    </div>
    <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="runner.html" class="btn btn-neutral float-right" title="torchx.runner" accesskey="n" rel="next">Next <img src="_static/images/chevron-right-orange.svg" class="next-page"></a>
      
      
        <a href="api_reference.html" class="btn btn-neutral" title="Quick Reference" accesskey="p" rel="prev"><img src="_static/images/chevron-right-orange.svg" class="previous-page"> Previous</a>
      
    </div>
  

  

    <hr>

  

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, TorchX Contributors.

    </p>
  </div>
    
      <div>
        Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
      </div>
     

</footer>

  </div>
        </div>

        <div class="pytorch-content-right" id="pytorch-content-right">
          <div class="pytorch-right-menu" id="pytorch-right-menu">
            <div class="pytorch-side-scroll" id="pytorch-side-scroll-right">
              <ul>
<li><a class="reference internal" href="#">torchx.specs</a><ul>
<li><a class="reference internal" href="#appdef">AppDef</a><ul>
<li><a class="reference internal" href="#torchx.specs.AppDef"><code class="docutils literal notranslate"><span class="pre">AppDef</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#role">Role</a><ul>
<li><a class="reference internal" href="#torchx.specs.Role"><code class="docutils literal notranslate"><span class="pre">Role</span></code></a><ul>
<li><a class="reference internal" href="#torchx.specs.Role.pre_proc"><code class="docutils literal notranslate"><span class="pre">Role.pre_proc()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#torchx.specs.RetryPolicy"><code class="docutils literal notranslate"><span class="pre">RetryPolicy</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#resource">Resource</a><ul>
<li><a class="reference internal" href="#torchx.specs.Resource"><code class="docutils literal notranslate"><span class="pre">Resource</span></code></a><ul>
<li><a class="reference internal" href="#torchx.specs.Resource.copy"><code class="docutils literal notranslate"><span class="pre">Resource.copy()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#torchx.specs.resource"><code class="docutils literal notranslate"><span class="pre">resource()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#workspace">Workspace</a><ul>
<li><a class="reference internal" href="#torchx.specs.Workspace"><code class="docutils literal notranslate"><span class="pre">Workspace</span></code></a><ul>
<li><a class="reference internal" href="#torchx.specs.Workspace.is_unmapped_single_project"><code class="docutils literal notranslate"><span class="pre">Workspace.is_unmapped_single_project()</span></code></a></li>
<li><a class="reference internal" href="#torchx.specs.Workspace.merge_into"><code class="docutils literal notranslate"><span class="pre">Workspace.merge_into()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#macros">Macros</a><ul>
<li><a class="reference internal" href="#torchx.specs.macros"><code class="docutils literal notranslate"><span class="pre">macros</span></code></a><ul>
<li><a class="reference internal" href="#torchx.specs.macros.Values"><code class="docutils literal notranslate"><span class="pre">macros.Values</span></code></a><ul>
<li><a class="reference internal" href="#torchx.specs.macros.Values.apply"><code class="docutils literal notranslate"><span class="pre">macros.Values.apply()</span></code></a></li>
<li><a class="reference internal" href="#torchx.specs.macros.Values.substitute"><code class="docutils literal notranslate"><span class="pre">macros.Values.substitute()</span></code></a></li>
<li><a class="reference internal" href="#torchx.specs.macros.Values.to_dict"><code class="docutils literal notranslate"><span class="pre">macros.Values.to_dict()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#run-configs">Run Configs</a><ul>
<li><a class="reference internal" href="#torchx.specs.CfgVal"><code class="docutils literal notranslate"><span class="pre">CfgVal</span></code></a></li>
<li><a class="reference internal" href="#torchx.specs.runopts"><code class="docutils literal notranslate"><span class="pre">runopts</span></code></a><ul>
<li><a class="reference internal" href="#torchx.specs.runopts.add"><code class="docutils literal notranslate"><span class="pre">runopts.add()</span></code></a></li>
<li><a class="reference internal" href="#torchx.specs.runopts.cfg_from_json_repr"><code class="docutils literal notranslate"><span class="pre">runopts.cfg_from_json_repr()</span></code></a></li>
<li><a class="reference internal" href="#torchx.specs.runopts.cfg_from_str"><code class="docutils literal notranslate"><span class="pre">runopts.cfg_from_str()</span></code></a></li>
<li><a class="reference internal" href="#torchx.specs.runopts.get"><code class="docutils literal notranslate"><span class="pre">runopts.get()</span></code></a></li>
<li><a class="reference internal" href="#torchx.specs.runopts.is_type"><code class="docutils literal notranslate"><span class="pre">runopts.is_type()</span></code></a></li>
<li><a class="reference internal" href="#torchx.specs.runopts.resolve"><code class="docutils literal notranslate"><span class="pre">runopts.resolve()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#torchx.specs.runopt"><code class="docutils literal notranslate"><span class="pre">runopt</span></code></a><ul>
<li><a class="reference internal" href="#torchx.specs.runopt.cast_to_type"><code class="docutils literal notranslate"><span class="pre">runopt.cast_to_type()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#structured-opts">Structured Opts</a></li>
</ul>
</li>
<li><a class="reference internal" href="#run-status">Run Status</a><ul>
<li><a class="reference internal" href="#torchx.specs.AppStatus"><code class="docutils literal notranslate"><span class="pre">AppStatus</span></code></a><ul>
<li><a class="reference internal" href="#torchx.specs.AppStatus.format"><code class="docutils literal notranslate"><span class="pre">AppStatus.format()</span></code></a></li>
<li><a class="reference internal" href="#torchx.specs.AppStatus.raise_for_status"><code class="docutils literal notranslate"><span class="pre">AppStatus.raise_for_status()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#torchx.specs.AppState"><code class="docutils literal notranslate"><span class="pre">AppState</span></code></a></li>
<li><a class="reference internal" href="#torchx.specs.ReplicaState"><code class="docutils literal notranslate"><span class="pre">ReplicaState</span></code></a></li>
<li><a class="reference internal" href="#torchx.specs.AppDryRunInfo"><code class="docutils literal notranslate"><span class="pre">AppDryRunInfo</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#app-handle">App Handle</a><ul>
<li><a class="reference internal" href="#torchx.specs.AppHandle"><code class="docutils literal notranslate"><span class="pre">AppHandle</span></code></a></li>
<li><a class="reference internal" href="#torchx.specs.parse_app_handle"><code class="docutils literal notranslate"><span class="pre">parse_app_handle()</span></code></a></li>
<li><a class="reference internal" href="#torchx.specs.ParsedAppHandle"><code class="docutils literal notranslate"><span class="pre">ParsedAppHandle</span></code></a><ul>
<li><a class="reference internal" href="#torchx.specs.ParsedAppHandle.app_id"><code class="docutils literal notranslate"><span class="pre">ParsedAppHandle.app_id</span></code></a></li>
<li><a class="reference internal" href="#torchx.specs.ParsedAppHandle.scheduler_backend"><code class="docutils literal notranslate"><span class="pre">ParsedAppHandle.scheduler_backend</span></code></a></li>
<li><a class="reference internal" href="#torchx.specs.ParsedAppHandle.session_name"><code class="docutils literal notranslate"><span class="pre">ParsedAppHandle.session_name</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#mounts">Mounts</a><ul>
<li><a class="reference internal" href="#torchx.specs.parse_mounts"><code class="docutils literal notranslate"><span class="pre">parse_mounts()</span></code></a></li>
<li><a class="reference internal" href="#torchx.specs.BindMount"><code class="docutils literal notranslate"><span class="pre">BindMount</span></code></a></li>
<li><a class="reference internal" href="#torchx.specs.VolumeMount"><code class="docutils literal notranslate"><span class="pre">VolumeMount</span></code></a></li>
<li><a class="reference internal" href="#torchx.specs.DeviceMount"><code class="docutils literal notranslate"><span class="pre">DeviceMount</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-torchx.specs.overlays">Overlays</a><ul>
<li><a class="reference internal" href="#for-users">For Users</a><ul>
<li><a class="reference internal" href="#operators">Operators</a></li>
</ul>
</li>
<li><a class="reference internal" href="#for-scheduler-implementors">For Scheduler Implementors</a></li>
<li><a class="reference internal" href="#torchx.specs.overlays.DEL"><code class="docutils literal notranslate"><span class="pre">DEL()</span></code></a></li>
<li><a class="reference internal" href="#torchx.specs.overlays.JOIN"><code class="docutils literal notranslate"><span class="pre">JOIN()</span></code></a></li>
<li><a class="reference internal" href="#torchx.specs.overlays.PUT"><code class="docutils literal notranslate"><span class="pre">PUT()</span></code></a></li>
<li><a class="reference internal" href="#torchx.specs.overlays.apply_overlay"><code class="docutils literal notranslate"><span class="pre">apply_overlay()</span></code></a></li>
<li><a class="reference internal" href="#torchx.specs.overlays.get_overlay"><code class="docutils literal notranslate"><span class="pre">get_overlay()</span></code></a></li>
<li><a class="reference internal" href="#torchx.specs.overlays.set_overlay"><code class="docutils literal notranslate"><span class="pre">set_overlay()</span></code></a></li>
<li><a class="reference internal" href="#torchx.specs.overlays.validate_overlay"><code class="docutils literal notranslate"><span class="pre">validate_overlay()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#named-resources">Named Resources</a><ul>
<li><a class="reference internal" href="#module-torchx.specs.named_resources_generic">Generic Named Resources</a></li>
<li><a class="reference internal" href="#module-torchx.specs.named_resources_aws">AWS Named Resources</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-torchx.specs.file_linter">Component Linter</a><ul>
<li><a class="reference internal" href="#torchx.specs.file_linter.validate"><code class="docutils literal notranslate"><span class="pre">validate()</span></code></a></li>
<li><a class="reference internal" href="#torchx.specs.file_linter.get_fn_docstring"><code class="docutils literal notranslate"><span class="pre">get_fn_docstring()</span></code></a></li>
<li><a class="reference internal" href="#torchx.specs.file_linter.LinterMessage"><code class="docutils literal notranslate"><span class="pre">LinterMessage</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

            </div>
          </div>
        </div>
      </section>
    </div>

  


  

     
       <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
         <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
         <script src="_static/jquery.js"></script>
         <script src="_static/underscore.js"></script>
         <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
         <script src="_static/doctools.js"></script>
         <script src="_static/sphinx_highlight.js"></script>
         <script src="_static/katex.min.js"></script>
         <script src="_static/auto-render.min.js"></script>
         <script src="_static/katex_autorenderer.js"></script>
         <script src="_static/js/torchx.js"></script>
     

  

  <script type="text/javascript" src="_static/js/vendor/popper.min.js"></script>
  <script type="text/javascript" src="_static/js/vendor/bootstrap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/list.js/1.5.0/list.min.js"></script>
  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

  <!-- Begin Footer -->

  <div class="container-fluid docs-tutorials-resources" id="docs-tutorials-resources">
    <div class="container">
      <div class="row">
        <div class="col-md-4 text-center">
          <h2>Docs</h2>
          <p>Access comprehensive developer documentation for PyTorch</p>
          <a class="with-right-arrow" href="https://pytorch.org/docs/stable/index.html">View Docs</a>
        </div>

        <div class="col-md-4 text-center">
          <h2>Tutorials</h2>
          <p>Get in-depth tutorials for beginners and advanced developers</p>
          <a class="with-right-arrow" href="https://pytorch.org/tutorials">View Tutorials</a>
        </div>

        <div class="col-md-4 text-center">
          <h2>Resources</h2>
          <p>Find development resources and get your questions answered</p>
          <a class="with-right-arrow" href="https://pytorch.org/resources">View Resources</a>
        </div>
      </div>
    </div>
  </div>

  <footer class="site-footer">
    <div class="container footer-container">
      <div class="footer-logo-wrapper">
        <a href="https://pytorch.org/" class="footer-logo"></a>
      </div>

      <div class="footer-links-wrapper">
        <div class="footer-links-col">
          <ul>
            <li class="list-title"><a href="https://pytorch.org/">PyTorch</a></li>
            <li><a href="https://pytorch.org/get-started">Get Started</a></li>
            <li><a href="https://pytorch.org/features">Features</a></li>
            <li><a href="https://pytorch.org/ecosystem">Ecosystem</a></li>
            <li><a href="https://pytorch.org/blog/">Blog</a></li>
            <li><a href="https://github.com/pytorch/pytorch/blob/master/CONTRIBUTING.md">Contributing</a></li>
          </ul>
        </div>

        <div class="footer-links-col">
          <ul>
            <li class="list-title"><a href="https://pytorch.org/resources">Resources</a></li>
            <li><a href="https://pytorch.org/tutorials">Tutorials</a></li>
            <li><a href="https://pytorch.org/docs/stable/index.html">Docs</a></li>
            <li><a href="https://discuss.pytorch.org" target="_blank">Discuss</a></li>
            <li><a href="https://github.com/pytorch/pytorch/issues" target="_blank">Github Issues</a></li>
            <li><a href="https://pytorch.org/assets/brand-guidelines/PyTorch-Brand-Guidelines.pdf" target="_blank">Brand Guidelines</a></li>
          </ul>
        </div>

        <div class="footer-links-col">
          <ul>
            <li class="list-title">Stay up to date</li>
            <li><a href="https://www.facebook.com/pytorch" target="_blank">Facebook</a></li>
            <li><a href="https://twitter.com/pytorch" target="_blank">Twitter</a></li>
            <li><a href="https://www.youtube.com/pytorch" target="_blank">YouTube</a></li>
            <li><a href="https://www.linkedin.com/company/pytorch" target="_blank">LinkedIn</a></li>
          </ul>  
          </div>

        <div class="footer-links-col">
          <ul>
            <li class="list-title">PyTorch Podcasts</li>
            <li><a href="https://open.spotify.com/show/6UzHKeiy368jKfQMKKvJY5" target="_blank">Spotify</a></li>
            <li><a href="https://podcasts.apple.com/us/podcast/pytorch-developer-podcast/id1566080008" target="_blank">Apple</a></li>
            <li><a href="https://www.google.com/podcasts?feed=aHR0cHM6Ly9mZWVkcy5zaW1wbGVjYXN0LmNvbS9PQjVGa0lsOA%3D%3D" target="_blank">Google</a></li>
            <li><a href="https://music.amazon.com/podcasts/7a4e6f0e-26c2-49e9-a478-41bd244197d0/PyTorch-Developer-Podcast?" target="_blank">Amazon</a></li>
          </ul>
         </div>
        </div>
        
        <div class="privacy-policy">
          <ul>
            <li class="privacy-policy-links"><a href="https://www.linuxfoundation.org/terms/" target="_blank">Terms</a></li>
            <li class="privacy-policy-links">|</li>
            <li class="privacy-policy-links"><a href="https://www.linuxfoundation.org/privacy-policy/" target="_blank">Privacy</a></li>
          </ul>
        </div>
        <div class="copyright">
        <p>© Copyright The Linux Foundation. The PyTorch Foundation is a project of The Linux Foundation.
          For web site terms of use, trademark policy and other policies applicable to The PyTorch Foundation please see
          <a href="https://www.linuxfoundation.org/policies/">www.linuxfoundation.org/policies/</a>. The PyTorch Foundation supports the PyTorch open source
          project, which has been established as PyTorch Project a Series of LF Projects, LLC. For policies applicable to the PyTorch Project a Series of LF Projects, LLC,
          please see <a href="https://www.lfprojects.org/policies/">www.lfprojects.org/policies/</a>.</p>
      </div>
     </div>

  </footer>

  <div class="cookie-banner-wrapper">
  <div class="container">
    <p class="gdpr-notice">To analyze traffic and optimize your experience, we serve cookies on this site. By clicking or navigating, you agree to allow our usage of cookies. As the current maintainers of this site, Facebook’s Cookies Policy applies. Learn more, including about available controls: <a href="https://www.facebook.com/policies/cookies/">Cookies Policy</a>.</p>
    <img class="close-button" src="_static/images/pytorch-x.svg">
  </div>
</div>

  <!-- End Footer -->

  <!-- Begin Mobile Menu -->

  <div class="mobile-main-menu">
    <div class="container-fluid">
      <div class="container">
        <div class="mobile-main-menu-header-container">
          <a class="header-logo" href="https://pytorch.org/" aria-label="PyTorch"></a>
          <a class="main-menu-close-button" href="#" data-behavior="close-mobile-menu"></a>
        </div>
      </div>
    </div>

    <div class="mobile-main-menu-links-container">
      <div class="main-menu">
        <ul>
           <li class="resources-mobile-menu-title">
             <a>Learn</a>
           </li>
           <ul class="resources-mobile-menu-items">
             <li>
               <a href="https://pytorch.org/get-started">Get Started</a>
             </li>
             <li>
               <a href="https://pytorch.org/tutorials">Tutorials</a>
             </li>
             <li>
               <a href="https://pytorch.org/tutorials/beginner/basics/intro.html">Learn the Basics</a>
             </li>
             <li>
               <a href="https://pytorch.org/tutorials/recipes/recipes_index.html">PyTorch Recipes</a>
             </li>
             <li>
               <a href="https://pytorch.org/tutorials/beginner/introyt.html">Introduction to PyTorch - YouTube Series</a>
             </li>
           </ul>
           <li class="resources-mobile-menu-title">
             <a>Ecosystem</a>
           </li>
           <ul class="resources-mobile-menu-items">
             <li>
               <a href="https://pytorch.org/ecosystem">Tools</a>
             </li>
             <li>
               <a href="https://pytorch.org/#community-module">Community</a>
             </li>
             <li>
               <a href="https://discuss.pytorch.org/">Forums</a>
             </li>
             <li>
               <a href="https://pytorch.org/resources">Developer Resources</a>
             </li>
             <li>
               <a href="https://pytorch.org/ecosystem/contributor-awards-2023">Contributor Awards - 2024</a>
             </li>
           </ul>

           <li class="resources-mobile-menu-title">
             <a>Edge</a>
           </li>

           <ul class="resources-mobile-menu-items">
             <li>
               <a href="https://pytorch.org/edge">About PyTorch Edge</a>
             </li>
             
             <li>
               <a href="https://pytorch.org/executorch-overview">ExecuTorch</a>
             </li>
             <li>
               <a href="https://pytorch.org/executorch/stable/index.html">ExecuTorch Documentation</a>
             </li>
           </ul>

           <li class="resources-mobile-menu-title">
             <a>Docs</a>
           </li>

           <ul class="resources-mobile-menu-items">
            <li>
              <a href="https://pytorch.org/docs/stable/index.html">PyTorch</a>
            </li>

            <li>
              <a href="https://pytorch.org/pytorch-domains">PyTorch Domains</a>
            </li>
          </ul>

          <li class="resources-mobile-menu-title">
            <a>Blog & News</a>
          </li>
            
           <ul class="resources-mobile-menu-items">
            <li>
              <a href="https://pytorch.org/blog/">PyTorch Blog</a>
            </li>
            <li>
              <a href="https://pytorch.org/community-blog">Community Blog</a>
            </li>

            <li>
              <a href="https://pytorch.org/videos">Videos</a>
            </li>

            <li>
              <a href="https://pytorch.org/community-stories">Community Stories</a>
            </li>
            <li>
              <a href="https://pytorch.org/events">Events</a>
            </li>
            <li>
               <a href="https://pytorch.org/newsletter">Newsletter</a>
             </li>
          </ul>
          
          <li class="resources-mobile-menu-title">
            <a>About</a>
          </li>

          <ul class="resources-mobile-menu-items">
            <li>
              <a href="https://pytorch.org/foundation">PyTorch Foundation</a>
            </li>
            <li>
              <a href="https://pytorch.org/governing-board">Governing Board</a>
            </li>
            <li>
               <a href="https://pytorch.org/credits">Cloud Credit Program</a>
            </li>
            <li>
               <a href="https://pytorch.org/tac">Technical Advisory Council</a>
            </li>
            <li>
               <a href="https://pytorch.org/staff">Staff</a>
            </li>
            <li>
               <a href="https://pytorch.org/contact-us">Contact Us</a>
            </li>
          </ul>
        </ul>
      </div>
    </div>
  </div>

  <!-- End Mobile Menu -->

  <script type="text/javascript" src="_static/js/vendor/anchor.min.js"></script>

  <script type="text/javascript">
    $(document).ready(function() {
      mobileMenu.bind();
      mobileTOC.bind();
      pytorchAnchors.bind();
      sideMenus.bind();
      scrollToAnchor.bind();
      highlightNavigation.bind();
      mainMenuDropdown.bind();
      filterTags.bind();

      // Add class to links that have code blocks, since we cannot create links in code blocks
      $("article.pytorch-article a span.pre").each(function(e) {
        $(this).closest("a").addClass("has-code");
      });
    })
  </script>
</body>
</html>